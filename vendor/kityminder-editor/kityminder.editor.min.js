/*!
 * ====================================================
 * kityminder-editor - v1.0.64 - 2018-10-18
 * https://github.com/fex-team/kityminder-editor
 * GitHub: https://github.com/fex-team/kityminder-editor 
 * Copyright (c) 2018 ; Licensed 
 * ====================================================
 */


!function(){var d={r:function(e){if(d[e].inited)return d[e].value;if("function"!=typeof d[e].value)return d[e].inited=!0,d[e].value;var n={exports:{}},t=d[e].value(null,n.exports,n);if(d[e].inited=!0,void 0!==(d[e].value=t))return t;for(var r in n.exports)if(n.exports.hasOwnProperty(r))return d[e].inited=!0,d[e].value=n.exports,n.exports}};d[0]={value:function(e,n,t){var r=[];function i(e){r.push(e)}function a(e){this.selector=e;for(var n=0;n<r.length;n++)"function"==typeof r[n]&&r[n].call(this,this)}return(a.assemble=i)(d.r(7)),i(d.r(9)),i(d.r(14)),i(d.r(18)),i(d.r(11)),i(d.r(12)),i(d.r(5)),i(d.r(6)),i(d.r(8)),i(d.r(15)),i(d.r(10)),i(d.r(13)),i(d.r(16)),i(d.r(17)),t.exports=a}},d[1]={value:function(e,n,t){return t.exports=kityminder.Editor=d.r(0)}},d[2]={value:function(e,n,t){return t.exports=window.HotBox}},d[3]={value:function(e,n,t){}},d[4]={value:function(e,n,t){return t.exports=window.kityminder.Minder}},d[5]={value:function(e,n,t){function r(){var t="\ufeff",r={"application/km":"￿"},i={"\ufeff":"SPLITOR","￿":"application/km"};function a(e,n){if(!this.isPureText(n)){if(!this.whichMimeType(n))throw new Error("unknow mimetype!");n=this.getPureText(n)}return!1===e?n:e+t+n}this.registMimeTypeProtocol=function(e,n){if(n&&i[n])throw new Error("sing has registed!");if(e&&r[e])throw new Error("mimetype has registed!");i[n]=e,r[e]=n},this.getMimeTypeProtocol=function(e,n){var t=r[e]||!1;return void 0===n?a.bind(this,t):a(t,n)},this.getSpitor=function(){return t},this.getMimeType=function(e){return void 0!==e?i[e]||null:r}}return r.prototype.isPureText=function(e){return!~e.indexOf(this.getSpitor())},r.prototype.getPureText=function(e){return this.isPureText(e)?e:e.split(this.getSpitor())[1]},r.prototype.whichMimeType=function(e){return this.isPureText(e)?null:this.getMimeType(e.split(this.getSpitor())[0])},t.exports=function(){this.minder.supportClipboardEvent&&!kity.Browser.gecko&&(this.MimeType=new r)}}},d[6]={value:function(e,n,t){return t.exports=function(){var c=this.minder,i=window.kityminder.data;if(c.supportClipboardEvent&&!kity.Browser.gecko){var d=this.fsm,u=this.receiver,s=this.MimeType,a=s.getMimeTypeProtocol("application/km"),p=i.getRegisterProtocol("json").decode,m=[];document.addEventListener("copy",function(e){if(document.activeElement==u.element){var n=e;switch(d.state()){case"input":break;case"normal":var t=[].concat(c.getSelectedNodes());if(t.length){var r;if(1<t.length&&(t.sort(function(e,n){return e.getLevel()-n.getLevel()}),(r=t[0].getLevel())!==t[t.length-1].getLevel())){var i,a=0,o=t.length,l=o-1;for(i=t[l];i.getLevel()!==r;){for(a=0;a<o&&t[a].getLevel()===r;){if(t[a].isAncestorOf(i)){t.splice(l,1);break}a++}i=t[--l]}}var s=g(t);n.clipboardData.setData("text/plain",s)}e.preventDefault()}}}),document.addEventListener("cut",function(e){if(document.activeElement==u.element){if("normal"!==c.getStatus())return void e.preventDefault();var n=e;switch(d.state()){case"input":break;case"normal":var t=c.getSelectedNodes();t.length&&(n.clipboardData.setData("text/plain",g(t)),c.execCommand("removenode")),e.preventDefault()}}}),document.addEventListener("paste",function(e){if(document.activeElement==u.element){if("normal"!==c.getStatus())return void e.preventDefault();var n=e,t=d.state(),r=n.clipboardData.getData("text/plain");switch(t){case"input":if(!s.isPureText(r))return void e.preventDefault();break;case"normal":var i=c.getSelectedNodes();if("application/km"===s.whichMimeType(r)){var a,o=p(s.getPureText(r));i.forEach(function(e){for(var n=o.length-1;0<=n;n--)a=c.createNode(null,e),c.importNode(a,o[n]),m.push(a),e.appendChild(a)}),c.select(m,!0),m=[],c.refresh()}else{if(n.clipboardData&&-1<n.clipboardData.items[0].type.indexOf("image")){var l=n.clipboardData.items[0].getAsFile();return angular.element(document.body).injector().get("server").uploadImage(l).then(function(e){var n=e.data;0===n.errno&&c.execCommand("image",n.data.url)})}i.forEach(function(e){c.Text2Children(e,r)})}e.preventDefault()}}})}function g(e){for(var n=[],t=0,r=e.length;t<r;t++)n.push(c.exportNode(e[t]));return a(i.getRegisterProtocol("json").encode(n))}}}},d[7]={value:function(e,n,t){return t.exports=function(){var e;if(!(e="string"==typeof this.selector?document.querySelector(this.selector):this.selector))throw new Error("Invalid selector: "+this.selector);e.classList.add("km-editor"),this.container=e}}},d[8]={value:function(e,n,t){var f=d.r(2);new(d.r(19))("drag");return t.exports=function(){var t,r,n=this.fsm,a=this.minder,i=this.hotbox;this.receiver.element,n.when("* -> drag",function(){}),n.when("drag -> *",function(e,n,t){});var o,l,s,c,d,u,p=1,m=!1,g=!1;function h(e,n){if(!e)return m=g=!1,u&&kity.releaseFrame(u),void(u=null);var t,r,i;u||(u=kity.requestFrame((t=e,r=n,i=a,function(e){switch(t){case"left":i._viewDragger.move({x:-r,y:0},0);break;case"top":i._viewDragger.move({x:0,y:-r},0);break;case"right":i._viewDragger.move({x:r,y:0},0);break;case"bottom":i._viewDragger.move({x:0,y:r},0);break;default:return}e.next()})))}a.on("mousedown",function(e){p=0;var n=a.getPaper().container.getBoundingClientRect();t=e.originEvent.clientX,r=e.originEvent.clientY,d=n.top,o=n.width,l=n.height}),a.on("mousemove",function(e){if("drag"===n.state()&&0==p&&a.getSelectedNode()&&(20<Math.abs(t-e.originEvent.clientX)||20<Math.abs(r-e.originEvent.clientY))&&(s=e.originEvent.clientX,c=e.originEvent.clientY-d,s<20?h("right",20-s):o-20<s?h("left",20+s-o):m=!0,c<20?h("bottom",c):l-20<c?h("top",20+c-l):g=!0,m&&g&&h(!1)),"drag"!==n.state()&&0===p&&a.getSelectedNode()&&(20<Math.abs(t-e.originEvent.clientX)||20<Math.abs(r-e.originEvent.clientY)))return"hotbox"===n.state()&&i.active(f.STATE_IDLE),n.jump("drag","user-drag")}),window.addEventListener("mouseup",function(){if(p=1,"drag"===n.state())return h(!1),n.jump("normal","drag-finish")},!1)}}},d[9]={value:function(e,n,t){var s=new(d.r(19))("fsm");function c(e,n,t,r){return e.when==n&&(("*"==e.enter||e.enter==r)&&("*"==e.exit||e.exit==t||void 0))}return t.exports=function(){this.fsm=new function(e){var o=e,l=[];this.jump=function(e,n){if(!n)throw new Error("Please tell fsm the reason to jump");var t,r,i=o,a=[i,e].concat([].slice.call(arguments,1));for(t=0;t<l.length;t++)if(c((r=l[t]).condition,"before",i,e)&&r.apply(null,a))return;for(o=e,s.log("[{0}] {1} -> {2}",n,i,e),t=0;t<l.length;t++)c((r=l[t]).condition,"after",i,e)&&r.apply(null,a);return o},this.state=function(){return o},this.when=function(e,n){var t,r,i,a;if(1==arguments.length&&(n=e,e="* -> *"),2==(r=e.split(" - ")).length?t="before":2==(r=e.split(" -> ")).length&&(t="after"),!t)throw new Error("Illegal fsm condition: "+e);i=r[0],a=r[1],n.condition={when:t,exit:i,enter:a},l.push(n)}}("normal")}}},d[10]={value:function(e,n,t){var g=d.r(22);return window.diff=g,t.exports=function(){var t,r,i,a,o=this.minder,e=this.hotbox,l=100;function n(){i=[],a=[],t=o.exportJson()}function s(){var e=o.exportJson(),n=g(e,t);if(n.length){for(i.push(n);i.length>l;)i.shift();return t=e,!0}}function c(){r=!0;var e,n=i.pop();n&&(o.applyPatches(n),e=o.exportJson(),a.push(g(e,t)),t=e),r=!1}function d(){r=!0;var e=a.pop();e&&(o.applyPatches(e),s()),r=!1}function u(){return!!i.length}function p(){return!!a.length}this.history={reset:n,undo:c,redo:d,hasUndo:u,hasRedo:p},n(),o.on("contentchange",function(){r||s()&&(a=[])}),o.on("import",n),o.on("patch",function(e){if(r){var n=e.patch;switch(n.express){case"node.add":o.select(n.node.getChild(n.index),!0);break;case"node.remove":case"data.replace":case"data.remove":case"data.add":o.select(n.node,!0)}}});var m=e.state("main");m.button({position:"top",label:"撤销",key:"Ctrl + Z",enable:u,action:c,next:"idle"}),m.button({position:"top",label:"重做",key:"Ctrl + Y",enable:p,action:d,next:"idle"})}}},d[11]={value:function(e,n,t){var r=d.r(2);return t.exports=function(){var e=this.fsm,o=this.minder,i=this.receiver,n=this.container,l=new r(n);l.setParentFSM(e),e.when("normal -> hotbox",function(e,n,t){var r,i=o.getSelectedNode();if(i){var a=i.getRenderBox();r={x:a.cx,y:a.cy}}l.active("main",r)}),e.when("normal -> normal",function(e,n,t,r){"shortcut-handle"==t&&(l.dispatch(r)?r.preventDefault():o.dispatchKeyEvent(r))}),e.when("modal -> normal",function(e,n,t,r){"import-text-finish"==t&&i.element.focus()}),this.hotbox=l}}},d[12]={value:function(e,n,t){d.r(21);var s=new(d.r(19))("input");return t.exports=function(){var i=this.fsm,m=this.minder,e=this.hotbox,a=this.receiver,o=a.element,l=window.kity.Browser.gecko;function n(){var e=m.getSelectedNode();if(e){var n=o;if(o.innerText="","bold"===e.getData("font-weight")){var t=document.createElement("b");n.appendChild(t),n=t}if("italic"===e.getData("font-style")){var r=document.createElement("i");n.appendChild(r),n=r}n.innerText=m.queryCommandValue("text"),l&&a.fixFFCaretDisappeared(),i.jump("input","input-request"),a.selectAll()}}function t(){var e=m.getSelectedNode();if(e){var n=e.getData("font-size")||e.getStyle("font-size");o.style.fontSize=n+"px",o.style.minWidth=0,o.style.minWidth=o.clientWidth+"px",o.style.fontWeight=e.getData("font-weight")||"",o.style.fontStyle=e.getData("font-style")||"",o.classList.add("input"),o.focus()}}function g(){o.classList.remove("input"),a.selectAll()}function r(){var n=r,t=m.getSelectedNode();t&&(n.timer||(n.timer=setTimeout(function(){var e=t.getRenderBox("TextRenderer");o.style.left=Math.round(e.x)+"px",o.style.top=(s.flaged?Math.round(e.bottom+30):Math.round(e.y))+"px",n.timer=0})))}s.flaged&&o.classList.add("debug"),o.onmousedown=function(e){e.stopPropagation()},m.on("layoutallfinish viewchange viewchanged selectionchange",function(e){"viewchange"==e.type&&"input"!=i.state()||r()}),r(),i.when("* -> input",t),i.when("input -> *",function(e,n,t){switch(t){case"input-cancel":return g();case"input-commit":default:return function(){var e=[].slice.call(o.childNodes);setTimeout(function(){o.innerHTML=""},0);var n=m.getSelectedNode();if(e=function(e){for(var n,t,r,i="",a=/\S/,o=new RegExp("( |"+String.fromCharCode(160)+")"),l=document.createElement("br"),s=!1,c=!1,d=0,u=e.length;d<u;d++)switch(n=e[d],Object.prototype.toString.call(n)){case"[object HTMLBRElement]":i+="\n";break;case"[object Text]":if(n=n.textContent.replace("&nbsp;"," "),a.test(n))i+=n;else for(r=n.length;r--;)o.test(n[r])?i+=" ":"\t"===n[r]&&(i+="\t");break;case"[object HTMLElement]":switch(n.nodeName){case"B":s=!0;break;case"I":c=!0}[].splice.apply(e,[d,1].concat([].slice.call(n.childNodes))),u=e.length,d--;break;case"[object HTMLSpanElement]":[].splice.apply(e,[d,1].concat([].slice.call(n.childNodes))),u=e.length,d--;break;case"[object HTMLImageElement]":n.src&&/http(|s):\/\//.test(n.src)&&m.execCommand("Image",n.src,n.alt);break;case"[object HTMLDivElement]":t=[];for(var p=0,u=n.childNodes.length;p<u;p++)t.push(n.childNodes[p]);t.push(l),[].splice.apply(e,[d,1].concat(t)),u=e.length,d--;break;default:if(n&&n.childNodes.length){t=[];for(var p=0,u=n.childNodes.length;p<u;p++)t.push(n.childNodes[p]);t.push(l),[].splice.apply(e,[d,1].concat(t)),u=e.length,d--}else n&&void 0!==n.textContent?i+=n.textContent:i+=""}return i=(i=i.replace(/^\n*|\n*$/g,"")).replace(new RegExp("(\n|\r|\n\r)( |"+String.fromCharCode(160)+"){4}","g"),"$1\t"),m.getSelectedNode().setText(i),s?m.queryCommandState("bold")||m.execCommand("bold"):m.queryCommandState("bold")&&m.execCommand("bold"),c?m.queryCommandState("italic")||m.execCommand("italic"):m.queryCommandState("italic")&&m.execCommand("italic"),g(),i}(e),function(n,e){try{m.decodeData("text",e).then(function(e){!function e(n,t,r){var i=t.data;n.setText(i.text||"");for(var a=t.children||[],o=0;o<a.length;o++){var l=r.createNode(null,n);e(l,a[o],r)}return n}(n,e,m),m.fire("contentchange"),m.getRoot().renderTree(),m.layout(300)})}catch(e){if(m.fire("contentchange"),m.getRoot().renderTree(),"Error: Invalid local format"!==e.toString())throw e}}(n,e),"root"==n.type){var t=m.getRoot().getText();m.fire("initChangeRoot",{text:t})}}()}}),a.onblur(function(e){"input"==i.state()&&i.jump("normal","input-commit")}),m.on("beforemousedown",function(){"input"==i.state()&&i.jump("normal","input-commit")}),m.on("dblclick",function(){m.getSelectedNode()&&"readonly"!==m._status&&n()}),e.state("main").button({position:"center",label:"编辑",key:"F2",enable:function(){return-1!=m.queryCommandState("text")},action:n}),this.editText=n}}},d[13]={value:function(e,n,t){var s=d.r(2);return t.exports=function(){var n,t,r=this.fsm,i=this.minder,a=this.receiver,e=this.container,o=a.element,l=this.hotbox;a.listen("normal",function(e){if(a.enable(),e.is("Space"))return e.preventDefault(),kity.Browser.safari&&(o.innerHTML=""),r.jump("hotbox","space-trigger");switch(e.type){case"keydown":if(i.getSelectedNode()){if(!((n=e).ctrlKey||n.metaKey||n.altKey)&&(65<=n.keyCode&&n.keyCode<=90||48<=n.keyCode&&n.keyCode<=57||108!=n.keyCode&&96<=n.keyCode&&n.keyCode<=111||108!=n.keyCode&&96<=n.keyCode&&n.keyCode<=111||229==n.keyCode||0===n.keyCode))return r.jump("input","user-input")}else o.innerHTML="";r.jump("normal","shortcut-handle",e)}var n}),a.listen("hotbox",function(e){if(a.disable(),e.preventDefault(),l.dispatch(e),l.state()==s.STATE_IDLE&&"hotbox"==r.state())return r.jump("normal","hotbox-idle")}),a.listen("input",function(e){if(a.enable(),"keydown"==e.type){if(e.is("Enter"))return e.preventDefault(),r.jump("normal","input-commit");if(e.is("Esc"))return e.preventDefault(),r.jump("normal","input-cancel");(e.is("Tab")||e.is("Shift + Tab"))&&e.preventDefault()}else if("keyup"==e.type&&e.is("Esc"))return e.preventDefault(),r.jump("normal","input-cancel")}),e.addEventListener("mousedown",function(e){2==e.button&&e.preventDefault(),"hotbox"==r.state()?(l.active(s.STATE_IDLE),r.jump("normal","blur")):"normal"==r.state()&&2==e.button&&(n=e.clientX,t=e.clientY)},!1),e.addEventListener("mousewheel",function(e){"hotbox"==r.state()&&(l.active(s.STATE_IDLE),r.jump("normal","mousemove-blur"))},!1),e.addEventListener("contextmenu",function(e){e.preventDefault()}),e.addEventListener("mouseup",function(e){"normal"==r.state()&&2==e.button&&e.clientX==n&&e.clientY==t&&i.getSelectedNode()&&r.jump("hotbox","content-menu")},!1),l.$element.addEventListener("mousedown",function(e){e.stopPropagation()})}}},d[14]={value:function(e,n,t){var r=d.r(4);return t.exports=function(){var e=new r({enableKeyReceiver:!1,enableAnimation:!0});e.renderTo(this.selector),e.setTheme(null),e.select(e.getRoot(),!0),e.execCommand("text","中心主题"),this.minder=e}}},d[15]={value:function(e,n,t){return t.exports=function(){var a=this,o=this.minder,e=this.hotbox,l=this.fsm,s=e.state("main"),c=0;["前移:Alt+Up:ArrangeUp","下级:Tab|Insert:AppendChildNode","同级:Enter:AppendSiblingNode","后移:Alt+Down:ArrangeDown","删除:Delete|Backspace:RemoveNode","上级:Shift+Tab|Shift+Insert:AppendParentNode"].forEach(function(e){var n=e.split(":"),t=n.shift(),r=n.shift(),i=n.shift();s.button({position:"ring",label:t,key:r,action:function(){0===i.indexOf("Append")?(c++,o.execCommand(i,"分支主题"),o.on("layoutallfinish",function e(){--c||a.editText(),o.off("layoutallfinish",e)})):(o.execCommand(i),l.jump("normal","command-executed"))},enable:function(){return-1!=o.queryCommandState(i)}})}),s.button({position:"bottom",label:"导入节点",key:"Alt + V",enable:function(){return 1==o.getSelectedNodes().length},action:function(){o.fire("importNodeData")},next:"idle"}),s.button({position:"bottom",label:"导出节点",key:"Alt + C",enable:function(){return 1==o.getSelectedNodes().length},action:function(){o.fire("exportNodeData")},next:"idle"})}}},d[16]={value:function(e,n,t){return t.exports=function(){var n=this.minder,e=this.hotbox;e.state("main").button({position:"top",label:"优先级",key:"P",next:"priority",enable:function(){return-1!=n.queryCommandState("priority")}});var t=e.state("priority");"123456789".replace(/./g,function(e){t.button({position:"ring",label:"P"+e,key:e,action:function(){n.execCommand("Priority",e)}})}),t.button({position:"center",label:"移除",key:"Del",action:function(){n.execCommand("Priority",0)}}),t.button({position:"top",label:"返回",key:"esc",next:"back"})}}},d[17]={value:function(e,n,t){return t.exports=function(){var n=this.minder,e=this.hotbox;e.state("main").button({position:"top",label:"进度",key:"G",next:"progress",enable:function(){return-1!=n.queryCommandState("progress")}});var t=e.state("progress");"012345678".replace(/./g,function(e){t.button({position:"ring",label:"G"+e,key:e,action:function(){n.execCommand("Progress",parseInt(e)+1)}})}),t.button({position:"center",label:"移除",key:"Del",action:function(){n.execCommand("Progress",0)}}),t.button({position:"top",label:"返回",key:"esc",next:"back"})}}},d[18]={value:function(e,n,t){var a=d.r(23);d.r(2);return t.exports=function(){var r=this.fsm,e=this.minder,t=document.createElement("div");t.contentEditable=!0,t.setAttribute("tabindex",-1),t.classList.add("receiver"),t.onkeydown=t.onkeypress=t.onkeyup=function(e){var n;e.is=function(e){for(var n=e.split("|"),t=0;t<n.length;t++)if(a.is(this,n[t]))return!0;return!1};for(var t=0;t<i.length;t++)if(("*"==(n=i[t]).notifyState||n.notifyState==r.state())&&n.call(null,e))return},this.container.appendChild(t);var n={element:t,selectAll:function(){t.innerHTML||(t.innerHTML="&nbsp;");var e=document.createRange(),n=window.getSelection();e.selectNodeContents(t),n.removeAllRanges(),n.addRange(e),t.focus()},enable:function(){t.setAttribute("contenteditable",!0)},disable:function(){t.setAttribute("contenteditable",!1)},fixFFCaretDisappeared:function(){t.removeAttribute("contenteditable"),t.setAttribute("contenteditable","true"),t.blur(),t.focus()},onblur:function(e){t.onblur=e}};n.selectAll(),e.on("beforemousedown",n.selectAll),e.on("receiverfocus",n.selectAll),e.on("readonly",function(){e.disable(),editor.receiver.element.parentElement.removeChild(editor.receiver.element),editor.hotbox.$container.removeChild(editor.hotbox.$element)});var i=[];n.listen=function(e,n){1==arguments.length&&(n=e,e="*"),n.notifyState=e,i.push(n)},this.receiver=n}}},d[19]={value:function(e,n,t){var r=d.r(20);function i(){}return t.exports=function(n){if(this.flaged=-1!=window.location.search.indexOf(n)){var e=function(e){for(var n=0,t=0;t<e.length;t++)n+=e.charCodeAt(t);return n}(n)%360,t=r("background: hsl({0}, 50%, 80%); color: hsl({0}, 100%, 30%); padding: 2px 3px; margin: 1px 3px 0 0;border-radius: 2px;",e);this.log=function(){var e=r.apply(null,arguments);console.log(r("%c{0}%c{1}",n,e),t,"background: none; color: black;")}}else this.log=i}}},d[20]={value:function(e,n,t){return t.exports=function(e,t){return"object"!=typeof t&&(t=[].slice.call(arguments,1)),String(e).replace(/\{(\w+)\}/gi,function(e,n){return t[n]||n})}}},d[21]={value:function(e,n,t){!("innerText"in document.createElement("a"))&&"getSelection"in window&&(HTMLElement.prototype.__defineGetter__("innerText",function(){var e,n,t=window.getSelection(),r=[];for(n=0;n<t.rangeCount;n++)r[n]=t.getRangeAt(n);for(t.removeAllRanges(),t.selectAllChildren(this),e=t.toString(),t.removeAllRanges(),n=0;n<r.length;n++)t.addRange(r[n]);return e}),HTMLElement.prototype.__defineSetter__("innerText",function(e){this.innerHTML=(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}))}},d[22]={value:function(e,n,t){var p=Object.keys?Object.keys:function(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n};function m(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function g(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}return t.exports=function(e,n){var t=[];return function e(n,t,r,i){for(var a=p(t),o=p(n),l=!1,s=o.length-1;0<=s;s--){var c=n[u=o[s]];if(t.hasOwnProperty(u)){var d=t[u];"object"==typeof c&&null!=c&&"object"==typeof d&&null!=d?e(c,d,r,i+"/"+m(u)):c!=d&&r.push({op:"replace",path:i+"/"+m(u),value:g(d)})}else r.push({op:"remove",path:i+"/"+m(u)}),l=!0}if(l||a.length!=o.length)for(s=0;s<a.length;s++){var u=a[s];n.hasOwnProperty(u)||r.push({op:"add",path:i+"/"+m(u),value:g(t[u])})}}(e,n,t,""),t}}},d[23]={value:function(e,n,t){var r=d.r(24),i=4096,a=8192,o=16384;function l(e){return"string"==typeof e?(n=0,e.toLowerCase().split(/\s*\+\s*/).forEach(function(e){switch(e){case"ctrl":case"cmd":n|=i;break;case"alt":n|=a;break;case"shift":n|=o;break;default:n|=r[e]}}),n):function(e){var n=0;(e.ctrlKey||e.metaKey)&&(n|=i);e.altKey&&(n|=a);e.shiftKey&&(n|=o);if(-1===[16,17,18,91].indexOf(e.keyCode)){if(229===e.keyCode&&e.keyIdentifier)return n|=parseInt(e.keyIdentifier.substr(2),16);n|=e.keyCode}return n}(e);var n}n.hash=l,n.is=function(e,n){return e&&n&&l(e)==l(n)}}},d[24]={value:function(e,n,t){var r={Shift:16,Control:17,Alt:18,CapsLock:20,BackSpace:8,Tab:9,Enter:13,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Left:37,Up:38,Right:39,Down:40,Direction:{37:1,38:1,39:1,40:1},Del:46,NumLock:144,Cmd:91,CmdFF:224,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"`":192,"=":187,"-":189,"/":191,".":190};for(var i in r)r.hasOwnProperty(i)&&(r[i.toLowerCase()]=r[i]);var a="a".charCodeAt(0);"abcdefghijklmnopqrstuvwxyz".split("").forEach(function(e){r[e]=e.charCodeAt(0)-a+65});for(var o=9;r[o.toString()]=o+48,--o;);t.exports=r}};var e,n={"expose-editor":1};angular.module("kityminderEditor",["ui.bootstrap","ui.codemirror","ui.colorpicker"]).config(["$sceDelegateProvider",function(e){e.resourceUrlWhitelist(["self","http://agroup.baidu.com:8910/**","http://cq01-fe-rdtest01.vm.baidu.com:8910/**","http://agroup.baidu.com:8911/**"])}]),angular.module("kityminderEditor").run(["$templateCache",function(e){"use strict";e.put("ui/directive/appendNode/appendNode.html","<div class=\"km-btn-group append-group\"><div class=\"km-btn-item append-child-node\" ng-disabled=\"minder.queryCommandState('AppendChildNode') === -1\" ng-click=\"minder.queryCommandState('AppendChildNode') === -1 || execCommand('AppendChildNode')\" title=\"{{ 'appendchildnode' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'appendchildnode' | lang:'ui/command' }}</span></div><div class=\"km-btn-item append-parent-node\" ng-disabled=\"minder.queryCommandState('AppendParentNode') === -1\" ng-click=\"minder.queryCommandState('AppendParentNode') === -1 || execCommand('AppendParentNode')\" title=\"{{ 'appendparentnode' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'appendparentnode' | lang:'ui/command' }}</span></div><div class=\"km-btn-item append-sibling-node\" ng-disabled=\"minder.queryCommandState('AppendSiblingNode') === -1\" ng-click=\"minder.queryCommandState('AppendSiblingNode') === -1 ||execCommand('AppendSiblingNode')\" title=\"{{ 'appendsiblingnode' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'appendsiblingnode' | lang:'ui/command' }}</span></div></div>"),e.put("ui/directive/arrange/arrange.html","<div class=\"km-btn-group arrange-group\"><div class=\"km-btn-item arrange-up\" ng-disabled=\"minder.queryCommandState('ArrangeUp') === -1\" ng-click=\"minder.queryCommandState('ArrangeUp') === -1 || minder.execCommand('ArrangeUp')\" title=\"{{ 'arrangeup' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'arrangeup' | lang:'ui/command' }}</span></div><div class=\"km-btn-item arrange-down\" ng-disabled=\"minder.queryCommandState('ArrangeDown') === -1\" ng-click=\"minder.queryCommandState('ArrangeDown') === -1 || minder.execCommand('ArrangeDown');\" title=\"{{ 'arrangedown' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'arrangedown' | lang:'ui/command' }}</span></div></div>"),e.put("ui/directive/colorPanel/colorPanel.html",'<div class="bg-color-wrap"><span class="quick-bg-color" ng-click="minder.queryCommandState(\'background\') === -1 || minder.execCommand(\'background\', bgColor)" ng-disabled="minder.queryCommandState(\'background\') === -1"></span> <span color-picker class="bg-color" set-color="setDefaultBg()" ng-disabled="minder.queryCommandState(\'background\') === -1"><span class="caret"></span></span> <span class="bg-color-preview" ng-style="{ \'background-color\': bgColor }" ng-click="minder.queryCommandState(\'background\') === -1 || minder.execCommand(\'background\', bgColor)" ng-disabled="minder.queryCommandState(\'background\') === -1"></span></div>'),e.put("ui/directive/expandLevel/expandLevel.html",'<div class="btn-group-vertical" dropdown is-open="isopen"><button type="button" class="btn btn-default expand" title="{{ \'expandtoleaf\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="minder.execCommand(\'ExpandToLevel\', 9999)"></button> <button type="button" class="btn btn-default expand-caption dropdown-toggle" title="{{ \'expandtoleaf\' | lang:\'ui\' }}" dropdown-toggle><span class="caption">{{ \'expandtoleaf\' | lang:\'ui\' }}</span> <span class="caret"></span> <span class="sr-only">{{ \'expandtoleaf\' | lang:\'ui\' }}</span></button><ul class="dropdown-menu" role="menu"><li ng-repeat="level in levels"><a href ng-click="minder.execCommand(\'ExpandToLevel\', level)">{{ \'expandtolevel\' + level | lang:\'ui/command\' }}</a></li></ul></div>'),e.put("ui/directive/fontOperator/fontOperator.html",'<div class="font-operator"><div class="dropdown font-family-list" dropdown><div class="dropdown-toggle current-font-item" dropdown-toggle ng-disabled="minder.queryCommandState(\'fontfamily\') === -1"><a href class="current-font-family" title="{{ \'fontfamily\' | lang: \'ui\' }}">{{ getFontfamilyName(minder.queryCommandValue(\'fontfamily\')) || \'字体\' }}</a> <span class="caret"></span></div><ul class="dropdown-menu font-list"><li ng-repeat="f in fontFamilyList" class="font-item-wrap"><a ng-click="minder.execCommand(\'fontfamily\', f.val)" class="font-item" ng-class="{ \'font-item-selected\' : f == minder.queryCommandValue(\'fontfamily\') }" ng-style="{\'font-family\': f.val }">{{ f.name }}</a></li></ul></div><div class="dropdown font-size-list" dropdown><div class="dropdown-toggle current-font-item" dropdown-toggle ng-disabled="minder.queryCommandState(\'fontsize\') === -1"><a href class="current-font-size" title="{{ \'fontsize\' | lang: \'ui\' }}">{{ minder.queryCommandValue(\'fontsize\') || \'字号\' }}</a> <span class="caret"></span></div><ul class="dropdown-menu font-list"><li ng-repeat="f in fontSizeList" class="font-item-wrap"><a ng-click="minder.execCommand(\'fontsize\', f)" class="font-item" ng-class="{ \'font-item-selected\' : f == minder.queryCommandValue(\'fontsize\') }" ng-style="{\'font-size\': f + \'px\'}">{{ f }}</a></li></ul></div><span class="s-btn-icon font-bold" ng-click="minder.queryCommandState(\'bold\') === -1 || minder.execCommand(\'bold\')" ng-class="{\'font-bold-selected\' : minder.queryCommandState(\'bold\') == 1}" ng-disabled="minder.queryCommandState(\'bold\') === -1"></span> <span class="s-btn-icon font-italics" ng-click="minder.queryCommandState(\'italic\') === -1 || minder.execCommand(\'italic\')" ng-class="{\'font-italics-selected\' : minder.queryCommandState(\'italic\') == 1}" ng-disabled="minder.queryCommandState(\'italic\') === -1"></span><div class="font-color-wrap"><span class="quick-font-color" ng-click="minder.queryCommandState(\'forecolor\') === -1 || minder.execCommand(\'forecolor\', foreColor)" ng-disabled="minder.queryCommandState(\'forecolor\') === -1">A</span> <span color-picker class="font-color" set-color="setDefaultColor()" ng-disabled="minder.queryCommandState(\'forecolor\') === -1"><span class="caret"></span></span> <span class="font-color-preview" ng-style="{ \'background-color\': foreColor }" ng-click="minder.queryCommandState(\'forecolor\') === -1 || minder.execCommand(\'forecolor\', foreColor)" ng-disabled="minder.queryCommandState(\'forecolor\') === -1"></span></div><color-panel minder="minder" class="inline-directive"></color-panel></div>'),e.put("ui/directive/hyperLink/hyperLink.html",'<div class="btn-group-vertical" dropdown is-open="isopen"><button type="button" class="btn btn-default hyperlink" title="{{ \'link\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="addHyperlink()" ng-disabled="minder.queryCommandState(\'HyperLink\') === -1"></button> <button type="button" class="btn btn-default hyperlink-caption dropdown-toggle" ng-disabled="minder.queryCommandState(\'HyperLink\') === -1" title="{{ \'link\' | lang:\'ui\' }}" dropdown-toggle><span class="caption">{{ \'link\' | lang:\'ui\' }}</span> <span class="caret"></span> <span class="sr-only">{{ \'link\' | lang:\'ui\' }}</span></button><ul class="dropdown-menu" role="menu"><li><a href ng-click="addHyperlink()">{{ \'insertlink\' | lang:\'ui\' }}</a></li><li><a href ng-click="minder.execCommand(\'HyperLink\', null)">{{ \'removelink\' | lang:\'ui\' }}</a></li></ul></div>'),e.put("ui/directive/imageBtn/imageBtn.html",'<div class="btn-group-vertical" dropdown is-open="isopen"><button type="button" class="btn btn-default image-btn" title="{{ \'image\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="addImage()" ng-disabled="minder.queryCommandState(\'Image\') === -1"></button> <button type="button" class="btn btn-default image-btn-caption dropdown-toggle" ng-disabled="minder.queryCommandState(\'Image\') === -1" title="{{ \'image\' | lang:\'ui\' }}" dropdown-toggle><span class="caption">{{ \'image\' | lang:\'ui\' }}</span> <span class="caret"></span> <span class="sr-only">{{ \'image\' | lang:\'ui\' }}</span></button><ul class="dropdown-menu" role="menu"><li><a href ng-click="addImage()">{{ \'insertimage\' | lang:\'ui\' }}</a></li><li><a href ng-click="minder.execCommand(\'Image\', \'\')">{{ \'removeimage\' | lang:\'ui\' }}</a></li></ul></div>'),e.put("ui/directive/kityminderEditor/kityminderEditor.html",'<div class="minder-editor-container"><div class="top-tab" top-tab="minder" editor="editor" ng-if="minder"></div><div search-box minder="minder" ng-if="minder"></div><div class="minder-editor"></div><div class="km-note" note-editor minder="minder" ng-if="minder"></div><div class="note-previewer" note-previewer ng-if="minder"></div><div class="navigator" navigator minder="minder" ng-if="minder"></div></div>'),e.put("ui/directive/kityminderViewer/kityminderViewer.html",'<div class="minder-editor-container"><div class="minder-viewer"></div><div class="note-previewer" note-previewer ng-if="minder"></div><div class="navigator" navigator minder="minder" ng-if="minder"></div></div>'),e.put("ui/directive/layout/layout.html",'<div class="readjust-layout"><a ng-click="minder.queryCommandState(\'resetlayout\') === -1 || minder.execCommand(\'resetlayout\')" class="btn-wrap" ng-disabled="minder.queryCommandState(\'resetlayout\') === -1"><span class="btn-icon reset-layout-icon"></span> <span class="btn-label">{{ \'resetlayout\' | lang: \'ui/command\' }}</span></a></div>'),e.put("ui/directive/navigator/navigator.html",'<div class="nav-bar"><div class="nav-btn zoom-in" ng-click="minder.execCommand(\'zoomIn\')" title="{{ \'zoom-in\' | lang : \'ui\' }}" ng-class="{ \'active\' : getZoomRadio(zoom) == 0 }"><div class="icon"></div></div><div class="zoom-pan"><div class="origin" ng-style="{\'transform\': \'translate(0, \' + getHeight(100) + \'px)\'}" ng-click="minder.execCommand(\'zoom\', 100);"></div><div class="indicator" ng-style="{\n             \'transform\': \'translate(0, \' + getHeight(zoom) + \'px)\',\n             \'transition\': \'transform 200ms\'\n             }"></div></div><div class="nav-btn zoom-out" ng-click="minder.execCommand(\'zoomOut\')" title="{{ \'zoom-out\' | lang : \'ui\' }}" ng-class="{ \'active\' : getZoomRadio(zoom) == 1 }"><div class="icon"></div></div><div class="nav-btn hand" ng-click="minder.execCommand(\'hand\')" title="{{ \'hand\' | lang : \'ui\' }}" ng-class="{ \'active\' : minder.queryCommandState(\'hand\') == 1 }"><div class="icon"></div></div><div class="nav-btn camera" ng-click="minder.execCommand(\'camera\', minder.getRoot(), 600);" title="{{ \'camera\' | lang : \'ui\' }}"><div class="icon"></div></div><div class="nav-btn nav-trigger" ng-class="{\'active\' : isNavOpen}" ng-click="toggleNavOpen()" title="{{ \'navigator\' | lang : \'ui\' }}"><div class="icon"></div></div></div><div class="nav-previewer" ng-show="isNavOpen"></div>'),e.put("ui/directive/noteBtn/noteBtn.html",'<div class="btn-group-vertical note-btn-group" dropdown is-open="isopen"><button type="button" class="btn btn-default note-btn" title="{{ \'note\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="addNote()" ng-disabled="minder.queryCommandState(\'note\') === -1"></button> <button type="button" class="btn btn-default note-btn-caption dropdown-toggle" ng-disabled="minder.queryCommandState(\'note\') === -1" title="{{ \'note\' | lang:\'ui\' }}" dropdown-toggle><span class="caption">{{ \'note\' | lang:\'ui\' }}</span> <span class="caret"></span> <span class="sr-only">{{ \'note\' | lang:\'ui\' }}</span></button><ul class="dropdown-menu" role="menu"><li><a href ng-click="addNote()">{{ \'insertnote\' | lang:\'ui\' }}</a></li><li><a href ng-click="minder.execCommand(\'note\', null)">{{ \'removenote\' | lang:\'ui\' }}</a></li></ul></div>'),e.put("ui/directive/noteEditor/noteEditor.html",'<div class="panel panel-default" ng-init="noteEditorOpen = false" ng-show="noteEditorOpen"><div class="panel-heading"><h3 class="panel-title">备注</h3><span>（<a class="help" href="https://www.zybuluo.com/techird/note/46064" target="_blank">支持 GFM 语法书写</a>）</span> <i class="close-note-editor glyphicon glyphicon-remove" ng-click="closeNoteEditor()"></i></div><div class="panel-body"><div ng-show="noteEnabled" ui-codemirror="{ onLoad: codemirrorLoaded }" ng-model="noteContent" ui-codemirror-opts="{\n                gfm: true,\n                breaks: true,\n                lineWrapping : true,\n                mode: \'gfm\',\n                dragDrop: false,\n                lineNumbers:true\n             }"></div><p ng-show="!noteEnabled" class="km-note-tips">请选择节点编辑备注</p></div></div>'),e.put("ui/directive/notePreviewer/notePreviewer.html",'<div id="previewer-content" ng-show="showNotePreviewer" ng-style="previewerStyle" ng-bind-html="noteContent"></div>'),e.put("ui/directive/operation/operation.html","<div class=\"km-btn-group operation-group\"><div class=\"km-btn-item edit-node\" ng-disabled=\"minder.queryCommandState('text') === -1\" ng-click=\"minder.queryCommandState('text') === -1 || editNode()\" title=\"{{ 'editnode' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'editnode' | lang:'ui/command' }}</span></div><div class=\"km-btn-item remove-node\" ng-disabled=\"minder.queryCommandState('RemoveNode') === -1\" ng-click=\"minder.queryCommandState('RemoveNode') === -1 || minder.execCommand('RemoveNode');\" title=\"{{ 'removenode' | lang:'ui/command' }}\"><i class=\"km-btn-icon\"></i> <span class=\"km-btn-caption\">{{ 'removenode' | lang:'ui/command' }}</span></div></div>"),e.put("ui/directive/priorityEditor/priorityEditor.html",'<ul class="km-priority tool-group" ng-disabled="commandDisabled"><li class="km-priority-item tool-group-item" ng-repeat="p in priorities" ng-click="commandDisabled || minder.execCommand(\'priority\', p)" ng-class="{ active: commandValue == p }" title="{{ getPriorityTitle(p) }}"><div class="km-priority-icon tool-group-icon priority-{{p}}"></div></li></ul>'),e.put("ui/directive/progressEditor/progressEditor.html",'<ul class="km-progress tool-group" ng-disabled="commandDisabled"><li class="km-progress-item tool-group-item" ng-repeat="p in progresses" ng-click="commandDisabled || minder.execCommand(\'progress\', p)" ng-class="{ active: commandValue == p }" title="{{ getProgressTitle(p) }}"><div class="km-progress-icon tool-group-icon progress-{{p}}"></div></li></ul>'),e.put("ui/directive/resourceEditor/resourceEditor.html",'<div class="resource-editor"><div class="input-group"><input class="form-control" type="text" ng-model="newResourceName" ng-required ng-keypress="$event.keyCode == 13 && addResource(newResourceName)" ng-disabled="!enabled"> <span class="input-group-btn"><button class="btn btn-default" ng-click="addResource(newResourceName)" ng-disabled="!enabled">添加</button></span></div><div class="resource-dropdown clearfix" id="resource-dropdown"><ul class="km-resource" ng-init="resourceListOpen = false" ng-class="{\'open\': resourceListOpen}"><li ng-repeat="resource in used" ng-disabled="!enabled" ng-blur="blurCB()"><label style="background: {{resourceColor(resource.name)}}"><input type="checkbox" ng-model="resource.selected" ng-disabled="!enabled"> <span>{{resource.name}}</span></label></li></ul><div class="resource-caret" click-anywhere-but-here="resourceListOpen = false" is-active="resourceListOpen" ng-click="resourceListOpen = !resourceListOpen"><span class="caret"></span></div></div></div>'),e.put("ui/directive/searchBox/searchBox.html",'<div id="search" class="search-box clearfix" ng-show="showSearch"><div class="input-group input-group-sm search-input-wrap"><input type="text" id="search-input" class="form-control search-input" ng-model="keyword" ng-keydown="handleKeyDown($event)" aria-describedby="basic-addon2"> <span class="input-group-addon search-addon" id="basic-addon2" ng-show="showTip" ng-bind="\'第 \' + curIndex + \' 条，共 \' + resultNum + \' 条\'"></span></div><div class="btn-group btn-group-sm prev-and-next-btn" role="group"><button type="button" class="btn btn-default" ng-click="doSearch(keyword, \'prev\')"><span class="glyphicon glyphicon-chevron-up"></span></button> <button type="button" class="btn btn-default" ng-click="doSearch(keyword, \'next\')"><span class="glyphicon glyphicon-chevron-down"></span></button></div><div class="close-search" ng-click="exitSearch()"><span class="glyphicon glyphicon-remove"></span></div></div>'),e.put("ui/directive/searchBtn/searchBtn.html",'<div class="btn-group-vertical" dropdown is-open="isopen"><button type="button" class="btn btn-default search" title="{{ \'search\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="enterSearch()"></button> <button type="button" class="btn btn-default search-caption dropdown-toggle" ng-click="enterSearch()" title="{{ \'search\' | lang:\'ui\' }}"><span class="caption">{{ \'search\' | lang:\'ui\' }}</span> <span class="sr-only">{{ \'search\' | lang:\'ui\' }}</span></button></div>'),e.put("ui/directive/selectAll/selectAll.html",'<div class="btn-group-vertical" dropdown is-open="isopen"><button type="button" class="btn btn-default select" title="{{ \'selectall\' | lang:\'ui\' }}" ng-class="{\'active\': isopen}" ng-click="select[\'all\']()"></button> <button type="button" class="btn btn-default select-caption dropdown-toggle" title="{{ \'selectall\' | lang:\'ui\' }}" dropdown-toggle><span class="caption">{{ \'selectall\' | lang:\'ui\' }}</span> <span class="caret"></span> <span class="sr-only">{{ \'selectall\' | lang:\'ui\' }}</span></button><ul class="dropdown-menu" role="menu"><li ng-repeat="item in items"><a href ng-click="select[item]()">{{ \'select\' + item | lang:\'ui\' }}</a></li></ul></div>'),e.put("ui/directive/styleOperator/styleOperator.html",'<div class="style-operator"><a ng-click="minder.queryCommandState(\'clearstyle\') === -1 || minder.execCommand(\'clearstyle\')" class="btn-wrap clear-style" ng-disabled="minder.queryCommandState(\'clearstyle\') === -1"><span class="btn-icon clear-style-icon"></span> <span class="btn-label">{{ \'clearstyle\' | lang: \'ui\' }}</span></a><div class="s-btn-group-vertical"><a class="s-btn-wrap" href ng-click="minder.queryCommandState(\'copystyle\') === -1 || minder.execCommand(\'copystyle\')" ng-disabled="minder.queryCommandState(\'copystyle\') === -1"><span class="s-btn-icon copy-style-icon"></span> <span class="s-btn-label">{{ \'copystyle\' | lang: \'ui\' }}</span></a> <a class="s-btn-wrap paste-style-wrap" href ng-click="minder.queryCommandState(\'pastestyle\') === -1 || minder.execCommand(\'pastestyle\')" ng-disabled="minder.queryCommandState(\'pastestyle\') === -1"><span class="s-btn-icon paste-style-icon"></span> <span class="s-btn-label">{{ \'pastestyle\' | lang: \'ui\' }}</span></a></div></div>'),e.put("ui/directive/templateList/templateList.html",'<div class="dropdown temp-panel" dropdown on-toggle="toggled(open)"><div class="dropdown-toggle current-temp-item" ng-disabled="minder.queryCommandState(\'template\') === -1" dropdown-toggle><a href class="temp-item {{ minder.queryCommandValue(\'template\') }}" title="{{ minder.queryCommandValue(\'template\') | lang: \'template\' }}"></a> <span class="caret"></span></div><ul class="dropdown-menu temp-list"><li ng-repeat="(key, templateObj) in templateList" class="temp-item-wrap"><a ng-click="minder.execCommand(\'template\', key);" class="temp-item {{key}}" ng-class="{ \'temp-item-selected\' : key == minder.queryCommandValue(\'template\') }" title="{{ key | lang: \'template\' }}"></a></li></ul></div>'),e.put("ui/directive/themeList/themeList.html",'<div class="dropdown theme-panel" dropdown><div class="dropdown-toggle theme-item-selected" dropdown-toggle ng-disabled="minder.queryCommandState(\'theme\') === -1"><a href class="theme-item" ng-style="getThemeThumbStyle(minder.queryCommandValue(\'theme\'))" title="{{ minder.queryCommandValue(\'theme\') | lang: \'theme\'; }}">{{ minder.queryCommandValue(\'theme\') | lang: \'theme\'; }}</a> <span class="caret"></span></div><ul class="dropdown-menu theme-list"><li ng-repeat="key in themeKeyList" class="theme-item-wrap"><a ng-click="minder.execCommand(\'theme\', key);" class="theme-item" ng-style="getThemeThumbStyle(key)" title="{{ key | lang: \'theme\'; }}">{{ key | lang: \'theme\'; }}</a></li></ul></div>'),e.put("ui/directive/topTab/topTab.html",'<uib-tabset><uib-tab active="true" heading="{{ \'idea\' | lang: \'ui/tabs\'; }}" ng-click="toggleTopTab(\'idea\')" select="setCurTab(\'idea\')"><undo-redo editor="editor"></undo-redo><append-node minder="minder"></append-node><arrange minder="minder"></arrange><operation minder="minder"></operation><hyper-link minder="minder"></hyper-link><image-btn minder="minder"></image-btn><note-btn minder="minder"></note-btn><priority-editor minder="minder"></priority-editor><progress-editor minder="minder"></progress-editor><resource-editor minder="minder"></resource-editor></uib-tab><uib-tab heading="{{ \'appearence\' | lang: \'ui/tabs\'; }}" ng-click="toggleTopTab(\'appearance\')" select="setCurTab(\'appearance\')"><template-list minder="minder" class="inline-directive"></template-list><theme-list minder="minder"></theme-list><layout minder="minder" class="inline-directive"></layout><style-operator minder="minder" class="inline-directive"></style-operator><font-operator minder="minder" class="inline-directive"></font-operator></uib-tab><uib-tab heading="{{ \'view\' | lang: \'ui/tabs\'; }}" ng-click="toggleTopTab(\'view\')" select="setCurTab(\'view\')"><expand-level minder="minder"></expand-level><select-all minder="minder"></select-all><search-btn minder="minder"></search-btn></uib-tab></uib-tabset>'),e.put("ui/directive/undoRedo/undoRedo.html",'<div class="km-btn-group do-group"><div class="km-btn-item undo" ng-disabled="editor.history.hasUndo() == false" ng-click="editor.history.hasUndo() == false || editor.history.undo();" title="{{ \'undo\' | lang:\'ui\' }}"><i class="km-btn-icon"></i></div><div class="km-btn-item redo" ng-disabled="editor.history.hasRedo() == false" ng-click="editor.history.hasRedo() == false || editor.history.redo()" title="{{ \'redo\' | lang:\'ui\' }}"><i class="km-btn-icon"></i></div></div>'),e.put("ui/dialog/hyperlink/hyperlink.tpl.html",'<div class="modal-header"><h3 class="modal-title">链接</h3></div><div class="modal-body"><form><div class="form-group" id="link-url-wrap" ng-class="{true: \'has-success\', false: \'has-error\'}[urlPassed]"><label for="link-url">链接地址：</label><input type="text" class="form-control" ng-model="url" ng-blur="urlPassed = R_URL.test(url)" ng-focus="this.value = url" ng-keydown="shortCut($event)" id="link-url" placeholder="必填：以 http(s):// 或 ftp:// 开头"></div><div class="form-group" ng-class="{\'has-success\' : titlePassed}"><label for="link-title">提示文本：</label><input type="text" class="form-control" ng-model="title" ng-blur="titlePassed = true" id="link-title" placeholder="选填：鼠标在链接上悬停时提示的文本"></div></form></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">确定</button> <button class="btn btn-warning" ng-click="cancel()">取消</button></div>'),e.put("ui/dialog/imExportNode/imExportNode.tpl.html",'<div class="modal-header"><h3 class="modal-title">{{ title }}</h3></div><div class="modal-body"><textarea type="text" class="form-control single-input" rows="8" ng-keydown="shortCut($event);" ng-model="value" ng-readonly="type === \'export\'">\n    </textarea></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()" ng-disabled="type === \'import\' && value == \'\'">OK</button> <button class="btn btn-warning" ng-click="cancel()">Cancel</button></div>'),e.put("ui/dialog/image/image.tpl.html",'<div class="modal-header"><h3 class="modal-title">图片</h3></div><div class="modal-body"><tabset><tab heading="图片搜索"><form class="form-inline"><div class="form-group"><label for="search-keyword">关键词：</label><input type="text" class="form-control" ng-model="data.searchKeyword2" id="search-keyword" placeholder="请输入搜索的关键词"></div><button class="btn btn-primary" ng-click="searchImage()">百度一下</button></form><div class="search-result" id="search-result"><ul><li ng-repeat="image in list" id="{{ \'img-item\' + $index }}" ng-class="{\'selected\' : isSelected}" ng-click="selectImage($event)"><img id="{{ \'img-\' + $index }}" ng-src="{{ image.src || \'\' }}" alt="{{ image.title }}" onerror="this.parentNode.removeChild(this)"> <span>{{ image.title }}</span></li></ul></div></tab><tab heading="外链图片"><form><div class="form-group" ng-class="{true: \'has-success\', false: \'has-error\'}[urlPassed]"><label for="image-url">链接地址：</label><input type="text" class="form-control" ng-model="data.url" ng-blur="urlPassed = data.R_URL.test(data.url)" ng-focus="this.value = data.url" ng-keydown="shortCut($event)" id="image-url" placeholder="必填：以 http(s):// 开头"></div><div class="form-group" ng-class="{\'has-success\' : titlePassed}"><label for="image-title">提示文本：</label><input type="text" class="form-control" ng-model="data.title" ng-blur="titlePassed = true" placeholder="选填：鼠标在图片上悬停时提示的文本"></div><div class="form-group"><label for="image-preview">图片预览：</label><img class="image-preview" ng-src="{{ data.url }}" alt="{{ data.title }}"></div></form></tab><tab heading="上传图片" active="true"><form><div class="form-group"><input type="file" name="upload-image" id="upload-image" class="upload-image" accept=".jpg,.JPG,jpeg,JPEG,.png,.PNG,.gif,.GIF"><label for="upload-image" class="btn btn-primary"><span>选择文件&hellip;</span></label></div><div class="form-group" ng-class="{\'has-success\' : titlePassed}"><label for="image-title">提示文本：</label><input type="text" class="form-control" ng-model="data.title" ng-blur="titlePassed = true" placeholder="选填：鼠标在图片上悬停时提示的文本"></div><div class="form-group"><label for="image-preview">图片预览：</label><img class="image-preview" ng-src="{{ data.url }}" title="{{ data.title }}" alt="{{ data.title }}"></div></form></tab></tabset></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">确定</button> <button class="btn btn-warning" ng-click="cancel()">取消</button></div>')}]),angular.module("kityminderEditor").service("commandBinder",function(){return{bind:function(e,n,t){e.on("interactchange",function(){t.commandDisabled=-1===e.queryCommandState(n),t.commandValue=e.queryCommandValue(n),t.$apply()})}}}),angular.module("kityminderEditor").provider("config",function(){this.config={ctrlPanelMin:250,ctrlPanelWidth:parseInt(window.localStorage.__dev_minder_ctrlPanelWidth)||250,dividerWidth:3,defaultLang:"zh_CN",zoom:[10,20,30,50,80,100,120,150,200],imageUpload:"server/imageUpload.php"},this.set=function(e,n){var t=Object.keys(this.config),r={};for(var i in"object"==typeof e?r=e:r[e]=n,r){if(!r.hasOwnProperty(i)||-1===t.indexOf(i))return console.error("Unsupported config key: ",e,", please choose in :",t.join(", ")),!1;this.config[i]=r[i]}return!0},this.$get=function(){var n=this;return{get:function(e){return 0===arguments.length?n.config:n.config.hasOwnProperty(e)?n.config[e]:(console.warn("Missing config key pair for : ",e),"")}}}}),angular.module("kityminderEditor").service("lang.de",function(){return{template:{default:"Mind Map",tianpan:"Tianpan Karte",structure:"Organigramm",filetree:"Verzeichnis-Organigramm",right:"Logisches Strukturdiagramm","fish-bone":"Fischknochenfigur"},theme:{classic:"Der Mind Map-Klassiker","classic-compact":"Kompakter Klassiker",snow:"sanftes kaltes Licht","snow-compact":"Kompaktes Kaltlicht",fish:"Fischknochenkarte",wire:"Drahtgitter","fresh-red":"Frisches Rot","fresh-soil":"Boden gelb","fresh-green":"Literarisches Grün","fresh-blue":"Himmelblau","fresh-purple":"Romantisches Lila","fresh-pink":"Gehirnpulver","fresh-red-compat":"Kompakt rot","fresh-soil-compat":"Kompakt gelb","fresh-green-compat":"Kompaktgrün","fresh-blue-compat":"Kompakt blau","fresh-purple-compat":"Kompaktes Lila","fresh-pink-compat":"Kompaktes Pulver",tianpan:"Klassisches Zifferblatt","tianpan-compact":"Kompakter Tag"},maintopic:"Zentrierthema",topic:"Branchenthema",panels:{history:"Geschichte",template:"Vorlage",theme:"Haut",layout:"Layout",style:"Stil",font:"Text",color:"Farbe",background:"Hintergrund",insert:"Einfügen",arrange:"Anpassung",nodeop:"aktuell",priority:"Priorität",progress:"Fortschritt",resource:"Ressourcen",note:"Bemerkungen",attachment:"Anlage",word:"Text"},error_message:{title:"Oh, die Mind Map ist falsch",err_load:"Laden der Mind Map fehlgeschlagen",err_save:"Save Mind Map failed",err_network:"Netzwerkfehler",err_doc_resolve:"Dokumentanalyse fehlgeschlagen",err_unknown:"Ein seltsamer Fehler ist aufgetreten",err_localfile_read:"Datei Lesefehler",err_download:"Dateidownload fehlgeschlagen",err_remove_share:"Abbrechen der Freigabe fehlgeschlagen",err_create_share:"Misserfolg",err_mkdir:"Verzeichniserstellung fehlgeschlagen",err_ls:"Verzeichnis lesen fehlgeschlagen",err_share_data:"Fehler beim Laden freigegebener Inhalte",err_share_sync_fail:"Content-Synchronisierung fehlgeschlagen",err_move_file:"Dateiverschiebung fehlgeschlagen",err_rename:"Umbenennen fehlgeschlagen",unknownreason:"Vielleicht haben Aliens den Code gefälscht ...",pcs_code:{3:"Diese Schnittstelle wird nicht unterstützt",4:"Es gibt keine Erlaubnis, diese Operation durchzuführen",5:"IP ist nicht autorisiert",110:"Benutzersitzung ist abgelaufen, bitte loggen Sie sich erneut ein",31001:"Datenbankabfragefehler",31002:"Datenbankverbindungsfehler",31003:"Die Datenbank gibt ein leeres Ergebnis zurück",31021:"Netzwerkfehler",31022:"Verbindung zum Server kann nicht vorübergehend hergestellt werden",31023:"Eingabeparameterfehler",31024:"App-ID ist leer",31025:"Backend-Speicherfehler",31041:"Benutzer-Cookie ist kein legaler Baidu-Cookie",31042:"Benutzer ist nicht eingeloggt",31043:"Benutzer ist nicht aktiviert",31044:"Benutzer ist nicht berechtigt",31045:"Benutzer existiert nicht",31046:"Benutzer existiert bereits",31061:"Die Datei existiert bereits",31062:"Der Dateiname ist illegal",31063:"Das übergeordnete Dateiverzeichnis existiert nicht",31064:"Kein Zugriff auf diese Datei",31065:"Das Verzeichnis ist voll",31066:"Die Datei existiert nicht",31067:"Dateiverarbeitungsfehler",31068:"Dateierstellung fehlgeschlagen",31069:"Dateikopie fehlgeschlagen",31070:"Dateilöschung fehlgeschlagen",31071:"Datei-Meta-Informationen können nicht gelesen werden",31072:"Dateibewegung fehlgeschlagen",31073:"Datei umbenennen fehlgeschlagen",31079:"Datei MD5 wurde nicht gefunden, bitte verwenden Sie die Upload-API, um die gesamte Datei hochzuladen.",31081:"Superfile Erstellung fehlgeschlagen",31082:"Die Liste der untersten Blöcke ist leer",31083:"Superfile-Update fehlgeschlagen",31101:"Tag System interner Fehler",31102:"Tag Parameter Fehler",31103:"Tag Systemfehler",31110:"Nicht autorisiert, dieses Verzeichniskontingent festzulegen",31111:"Kontingentverwaltung unterstützt nur zwei Ebenen von Verzeichnissen",31112:"Out of Quote",31113:"Das Kontingent darf die Quote der Katalog-Vorfahren nicht überschreiten",31114:"Kontingente dürfen nicht kleiner sein als Unterverzeichniskontingente",31141:"Miniaturansicht-Service fehlgeschlagen",31201:"Signaturfehler",31202:"Die Datei existiert nicht",31203:"Einstellung acl ist fehlgeschlagen",31204:"Anfrage acl Verifizierung fehlgeschlagen",31205:"Get acl fehlgeschlagen",31206:"acl existiert nicht",31207:"Bucket existiert bereits",31208:"Benutzeranforderungsfehler",31209:"Serverfehler",31210:"Server unterstützt nicht",31211:"Kein Zugang",31212:"Service nicht verfügbar",31213:"Wiederholungsfehler",31214:"Dateidaten hochladen fehlgeschlagen",31215:"Upload Datei Meta fehlgeschlagen",31216:"Herunterladen von Dateidaten fehlgeschlagen",31217:"Download Datei Meta fehlgeschlagen",31218:"Kapazität überschreitet das Limit",31219:"Die Anzahl der Anfragen überschreitet das Limit",31220:"Flow überschreitet das Limit",31298:"Der Server hat einen Wert zurückgegeben, der KEY ist ungültig",31299:"Server Rückgabewert KEY existiert nicht"}},ui:{shared_file_title:"[geteilt] {0} (nur lesen)",load_share_for_edit:"Laden freigegebener Dateien ...",share_sync_success:"Freigegebener Inhalt wurde synchronisiert",recycle_clear_confirm:"Sind Sie sicher, den Papierkorb zu leeren? Die geleerte Datei kann nicht wiederhergestellt werden. ",fullscreen_exit_hint:"Drücken Sie Esc oder F11, um den Vollbildmodus zu beenden",error_detail:"Details",copy_and_feedback:"Kopieren und Feedback",move_file_confirm:"Verschieben Sie {0} in {1}? ",rename:"umbenennen",rename_success:"{0} erfolgreich umbenannt",move_success:"{0} wurde erfolgreich nach {1} verschoben",command:{exportPNG:"Export als PNG-Bild",exportSVG:"Nach SVG-Bild exportieren",appendsiblingnode:"Das gleiche Thema einfügen",appendparentnode:"Überlegenes Thema einfügen",appendchildnode:"Untergeordnetes Thema einfügen",removenode:"Löschen",editnode:"Bearbeiten",arrangeup:"Aufwärts",arrangedown:"Unten",resetlayout:"Layout organisieren",expandtoleaf:"Alle Knoten erweitern",expandtolevel1:"Erweitern auf Level 1 Knoten",expandtolevel2:"Erweitern zum sekundären Knoten",expandtolevel3:"Erweitern zu einem Knoten der dritten Ebene",expandtolevel4:"Erweitern zu einem vierstufigen Knoten",expandtolevel5:"Erweitern zu einem fünfstufigen Knoten",expandtolevel6:"Erweitern zu einem sechsstufigen Knoten",fullscreen:"Vollbild",outline:"Gliederung"},search:"suchen",export:"exportieren",expandtoleaf:"Erweitern",back:"Zurück",undo:"Rückgängig (Strg + Z)",redo:"Wiederholen (Strg + Y)",tabs:{file:"Datei",idea:"Gedanken",appearence:"Aussehen",view:"Ansicht"},quickvisit:{new:"Neu (Strg + Alt + N)",save:"Speichern (Strg + S)",share:"Teilen (Strg + Alt + S)",feedback:"Rückmeldungsfrage (F1)",editshare:"Bearbeiten"},menu:{mainmenutext:"Baidu Mind Map",newtab:"Neu",opentab:"Offen",savetab:"Speichern",sharetab:"Teilen",preferencetab:"Einstellungen",helptab:"Hilfe",feedbacktab:"Feedback",recenttab:"Kürzlich verwendet",netdisktab:"Baidu Cloud Speicher",localtab:"lokale Datei",drafttab:"Entwurfsbox",downloadtab:"Exportieren nach lokal",createsharetab:"aktuelle Mind Map",managesharetab:"Geteilt",newheader:"Neue Mind Map",openheader:"Öffnen",saveheader:"Speichern in",draftheader:"Entwurfsbox",shareheader:"Teilen Sie meine Gehirnkarte",downloadheader:"Export in das angegebene Format",preferenceheader:"Präferenzen",helpheader:"Hilfe",feedbackheader:"Feedback"},mydocument:"Meine Dokumente",emptydir:"Das Verzeichnis ist leer! ",pickfile:"Datei auswählen ...",acceptfile:"Unterstütztes Format: {0}",dropfile:"Oder ziehe die Datei hier",unsupportedfile:"Nicht unterstütztes Dateiformat",untitleddoc:"Unbenanntes Dokument",overrideconfirm:"{0} existiert bereits, Überschreiben bestätigen? ",checklogin:"Login-Status prüfen ...",loggingin:"Registrierung ...",recent:"Vor kurzem eröffnet",clearrecent:"Leer",clearrecentconfirm:"Löschen Sie die Liste der letzten Dokumente? ",cleardraft:"Leer",cleardraftconfirm:"Leere Entwürfe bestätigen? ",none_share:"Nicht teilen",public_share:"öffentlicher Austausch",password_share:"Privates Teilen",email_share:"Mail-Einladung",url_share:"URL der Mind Map:",sns_share:"Social Network Sharing",sns_share_text:" {0} - Ich benutze die Mind Map, die von Baidu Mind Map erstellt wurde, schau sie dir an! (Adresse: {1}) ",none_share_description:"Teilen Sie nicht die aktuelle Mind Map",public_share_description:"Erstellen Sie eine Freigabe, die für alle sichtbar ist",share_button_text:"Erstellen",password_share_description:"Erstellen Sie eine Freigabe, für die ein Kennwort erforderlich ist, um sichtbar zu sein",email_share_description:"Erstellen Sie eine Freigabe, die für die angegebene Person sichtbar ist, und erlauben Sie ihnen, sie zu bearbeiten",ondev:"Bitte freuen Sie sich auf! ",create_share_failed:"Fehler beim Teilen: {0}",remove_share_failed:"Löschen fehlgeschlagen: {1}",copy:"Kopieren",copied:"Kopiert",shared_tip:"Die aktuelle Mind Map wird von {0} geteilt, Sie können sie auf Ihrer eigenen Netzwerkfestplatte speichern oder sie erneut teilen",current_share:"aktuelle Mind Map",manage_share:"Mein Anteil",share_remove_action:"Teilen Sie nicht die Mind Map",share_view_action:"Open-Sharing-Adresse",share_edit_action:"Gemeinsame Dateien bearbeiten",login:"Einloggen",logout:"Abmelden",switchuser:"Konto wechseln",userinfo:"persönliche Informationen",gotonetdisk:"Mein Weblaufwerk",requirelogin:'Bitte <a class="login-button"> anmelden </a> und verwenden',saveas:"Speichern unter",filename:"Dateiname",fileformat:"Dateiformat",save:"Speichern",mkdir:"Neues Verzeichnis",recycle:"Papierkorb",newdir:"Unbenanntes Verzeichnis",bold:"Fett",italic:"Kursiv",forecolor:"Schriftfarbe",fontfamily:"Schriftart",fontsize:"Schriftgröße",layoutstyle:"Thema",node:"Knotenoperation",saveto:"Speichern unter",hand:"Ziehen erlauben",camera:"Suchen Sie den Stammknoten","zoom-in":"Vergrößern (Strg +)","zoom-out":"Verkleinern (Strg)",markers:"Tag",resource:"Ressourcen",help:"Hilfe",preference:"Präferenzen",expandnode:"Auf das Blatt erweitern",collapsenode:"einen Level-1-Knoten erhalten",template:"Vorlage",theme:"Haut",clearstyle:"Klare Stil",copystyle:"Stil kopieren",pastestyle:"Stil einfügen",appendsiblingnode:"Gleiches Thema",appendchildnode:"Untergeordnetes Thema",arrangeup:"Voreinstellung",arrangedown:"Nachstimmen",editnode:"Bearbeiten",removenode:"Entfernen",priority:"Priorität",progress:{p1:"Nicht begonnen",p2:"1/8 fertiggestellt",p3:"1/4 fertiggestellt",p4:"3/8 fertiggestellt",p5:"1/2 fertiggestellt",p6:"5/8 fertiggestellt",p7:"3/4 fertiggestellt",p8:"7/8 fertiggestellt",p9:"Abgeschlossen",p0:"Klarer Fortschritt"},link:"Verbindung",image:"Bild",note:"Bemerkungen",insertlink:"Link einfügen",insertimage:"Bild einfügen",insertnote:"Notiz einfügen",removelink:"Bestehende Links entfernen",removeimage:"Bestehendes Bild entfernen",removenote:"Bestehende Notizen entfernen",resetlayout:"Organisieren",justnow:"gerade begonnen",minutesago:"Vor {0} Minuten",hoursago:"Vor {0} Stunden",yesterday:"Gestern",daysago:"Vor {0} Tagen",longago:"Vor langer Zeit",redirect:"Sie öffnen die Verbindung {0}, Baidu Mind Map kann die Sicherheit der Verbindung nicht garantieren. Möchten Sie fortfahren? ",navigator:"Navigator",unsavedcontent:"Die aktuelle Datei wurde nicht auf dem Netzlaufwerk gespeichert:  n  n {0}  n  n Obwohl nicht gespeicherte Daten in den Entwürfen zwischengespeichert werden, werden beim Löschen des Browsercaches die Entwürfe gelöscht. ",shortcuts:"Verknüpfung",contact:"Kontakt und Feedback",email:"Mail-Gruppe",qq_group:"QQ-Gruppe",github_issue:"Github",baidu_tieba:"贴 吧",clipboardunsupported:"Ihr Browser unterstützt keine Zwischenablage, bitte verwenden Sie die Tastenkombination zum Kopieren",load_success:"{0} erfolgreich geladen",save_success:"{0} wurde in {1} gespeichert",autosave_success:"{0} wurde automatisch in {1} gespeichert",selectall:"Alles auswählen",selectrevert:"umgekehrte Wahl",selectsiblings:"Wähle Bruderknoten",selectlevel:"Wählen Sie einen Peer-Knoten",selectpath:"Wähle einen Weg",selecttree:"Teilbaum auswählen"},popupcolor:{clearColor:"Leere Farbe",standardColor:"Standardfarbe",themeColor:"Themenfarbe"},dialogs:{markers:{static:{lang_input_text:"Textinhalt:",lang_input_url:"Linkadresse:",lang_input_title:"Titel:",lang_input_target:"Ob im neuen Fenster:"},priority:"Priorität",none:"Nein",progress:{title:"Fortschritt",notdone:"unvollendet",done1:"1/8 fertiggestellt",done2:"1/4 fertiggestellt",done3:"3/8 fertiggestellt",done4:"1/2 fertiggestellt",done5:"5/8 fertiggestellt",done6:"3/4 fertiggestellt",done7:"7/8 fertiggestellt",done:"abgeschlossen"}},help:{},hyperlink:{},image:{},resource:{}},hyperlink:{hyperlink:"Verbindung ...",unhyperlink:"Link entfernen"},image:{image:"Bild ...",removeimage:"Bild entfernen"},marker:{marker:"Fortschritt / Priorität ..."},resource:{resource:"Ressourcen ..."}}}),angular.module("kityminderEditor").service("lang.en",function(){return{template:{default:"Mind map",tianpan:"Sky map",structure:"Organization Chart",filetree:"Directory organization chart",right:"logical structure diagram","fish-bone":"Fish bone figure"},theme:{classic:"The mind map classic","classic-compact":"Compact classic",snow:"gentle cold light","snow-compact":"Compact cold light",fish:"Fish bone map",wire:"wireframe","fresh-red":"Fresh red","fresh-soil":"Dirty yellow","fresh-green":"Artistic Green","fresh-blue":"Sky Blue","fresh-purple":"Romantic Purple","fresh-pink":"Mind powder","fresh-red-compat":"Compact red","fresh-soil-compat":"Compact yellow","fresh-green-compat":"Compact green","fresh-blue-compat":"Compact blue","fresh-purple-compat":"Compact purple","fresh-pink-compat":"Compact powder",tianpan:"Classic dial","tianpan-compact":"Compact day"},maintopic:"Center theme",topic:"branch topic",panels:{history:"history",template:"template",theme:"skin",layout:"layout",style:"style",font:"text",color:"color",background:"background",insert:"insert",arrange:"adjust",nodeop:"current",priority:"priority",progress:"progress",resource:"resource",note:"note",attachment:"attachment",word:"text"},error_message:{title:"Oh, the mind map is wrong",err_load:"Loading mind map failed",err_save:"Saving mind map failed",err_network:"Network error",err_doc_resolve:"Document parsing failed",err_unknown:"A strange error has occurred",err_localfile_read:"File read error",err_download:"File download failed",err_remove_share:"Cancel sharing failed",err_create_share:"Sharing failed",err_mkdir:"Directory creation failed",err_ls:"Read directory failed",err_share_data:"Load shared content error",err_share_sync_fail:"Share content sync failed",err_move_file:"File move failed",err_rename:"Rename failed",unknownreason:"Maybe an alien has messed with the code...",pcs_code:{3:"This interface is not supported",4:"There is no permission to perform this operation",5:"IP is not authorized",110:"User session has expired, please log in again",31001:"Database query error",31002:"Database connection error",31003:"The database returns an empty result",31021:"Network error",31022:"The server cannot be connected temporarily",31023:"Input parameter error",31024:"app id is empty",31025:"Backend storage error",31041:"User's cookie is not a legal Baidu cookie",31042:"User is not logged in",31043:"User is not activated",31044:"User is not authorized",31045:"User does not exist",31046:"User already exists",31061:"The file already exists",31062:"Illegal file name",31063:"The file parent directory does not exist",31064:"There is no access to this file",31065:"The directory is full",31066:"The file does not exist",31067:"File processing error",31068:"File creation failed",31069:"File copy failed",31070:"File deletion failed",31071:"Cannot read file meta information",31072:"File movement failed",31073:"File rename failed",31079:"File MD5 was not found, please upload the entire file using the upload API.",31081:"Superfile creation failed",31082:"The list of superfile blocks is empty",31083:"Superfile update failed",31101:"Tag system internal error",31102:"The tag parameter is incorrect",31103:"tag system error",31110:"Unauthorized to set this directory quota",31111:"Quota management only supports two levels of directories",31112:"Exceeded quota",31113:"Quotas cannot exceed quotas for directory ancestors",31114:"Quotas cannot be smaller than subdirectory quotas",31141:"Request thumbnail service failed",31201:"Signature error",31202:"The file does not exist",31203:"Setting acl failed",31204:"Request acl verification failed",31205:"Get acl failed",31206:"acl does not exist",31207:"bucket already exists",31208:"User request error",31209:"Server Error",31210:"Server does not support",31211:"No access",31212:"Service is not available",31213:"Retry error",31214:"Failed to upload file data",31215:"Upload file meta failed",31216:"Download file data failed",31217:"Download file meta failed",31218:"Capacity exceeds quota",31219:"The number of requests exceeds the limit",31220:"Flow exceeded quota",31298:"The server returned a value KEY is illegal",31299:"The server return value KEY does not exist"}},ui:{shared_file_title:"[shared] {0} (read only)",load_share_for_edit:"Loading shared files...",share_sync_success:"Share content is synced",recycle_clear_confirm:"Are you sure to empty the recycle bin? The emptied files cannot be recovered. ",fullscreen_exit_hint:"Press Esc or F11 to exit full screen",error_detail:"details",copy_and_feedback:"Copy and feedback",move_file_confirm:'Move "{0}" to "{1}"? ',rename:"rename",rename_success:"{0} rename succeeded",move_success:"{0} moved successfully to {1}",command:{exportPNG:"Export as PNG image",exportSVG:"Export as SVG image",appendsiblingnode:"Insert Sibling",appendparentnode:"Insert Parent",appendchildnode:"Insert Child",removenode:"Del",editnode:"Edit",arrangeup:"Up",arrangedown:"Down",resetlayout:"Organize layout",expandtoleaf:"Expand all nodes",expandtolevel1:"Expand to level 1 node",expandtolevel2:"Expand to level 2 node",expandtolevel3:"Expand to level 3 node",expandtolevel4:"Expand to level 4 node",expandtolevel5:"Expand to level 5 node",expandtolevel6:"Expand to level 6 node",fullscreen:"full screen",outline:"outline"},search:"search",export:"export",expandtoleaf:"expand",back:"return",undo:"Undo (Ctrl + Z)",redo:"Redo (Ctrl + Y)",tabs:{file:"File",idea:"Thinking",appearence:"Appearance",view:"View"},quickvisit:{new:"New (Ctrl + Alt + N)",save:"Save (Ctrl + S)",share:"Share (Ctrl + Alt + S)",feedback:"Feedback question (F1)",editshare:"Edit"},menu:{mainmenutext:"Baidu mind map",newtab:"New",opentab:"open",savetab:"Save",sharetab:"Share",preferencetab:"Settings",helptab:"Help",feedbacktab:"Feedback",recenttab:"Recently used",netdisktab:"Baidu cloud storage",localtab:"local file",drafttab:"Draft box",downloadtab:"Export to local",createsharetab:"current mind map",managesharetab:"Shared",newheader:"New mind map",openheader:"open",saveheader:"Save to",draftheader:"Draft box",shareheader:"Share my mind map",downloadheader:"Export to the specified format",preferenceheader:"Preferences",helpheader:"Help",feedbackheader:"Feedback"},mydocument:"My Documents",emptydir:"The directory is empty! ",pickfile:"Select file...",acceptfile:"Supported format: {0}",dropfile:"or drag the file here",unsupportedfile:"Unsupported file format",untitleddoc:"untitled document",overrideconfirm:"{0} already exists, confirm overwrite? ",checklogin:"Check login status...",loggingin:"Login...",recent:"Recently opened",clearrecent:"clear",clearrecentconfirm:"Are you clearing the list of recent documents? ",cleardraft:"Empty",cleardraftconfirm:"Confirm empty drafts? ",none_share:"Do not share",public_share:"public sharing",password_share:"Private sharing",email_share:"Mail invitation",url_share:"mind map URL address:",sns_share:"Social Network Sharing:",sns_share_text:"“{0}” -I use the mind map of Baidu mind map, take a look! (Address 1})",none_share_description:"Do not share the current mind map",public_share_description:"Create a share visible to anyone",share_button_text:"Create",password_share_description:"Create a share that requires a password to be visible",email_share_description:"Create a share visible to the specified person, you can also allow them to edit",ondev:"Please look forward to it! ",create_share_failed:"Share failed: {0}",remove_share_failed:"Delete failed: {1}",copy:"copy",copied:"has been copied",shared_tip:"The current mind map is shared by {0}, you can save it to your own network disk or share it again",current_share:"current mind map",manage_share:"My share",share_remove_action:"Do not share the mind map",share_view_action:"Open shared address",share_edit_action:"Edit shared file",login:"Login",logout:"logout",switchuser:"switch account",userinfo:"Personal information",gotonetdisk:"My network disk",requirelogin:'Please <a class="login-button">login</a> and use ',saveas:"Save as",filename:"filename",fileformat:"Save format",save:"Save",mkdir:"New directory",recycle:"Recycle Bin",newdir:"unnamed directory",bold:"Bold",italic:"italic",forecolor:"font color",fontfamily:"font",fontsize:"font size",layoutstyle:"theme",node:"node operation",saveto:"Save as",hand:"Allow dragging",camera:"Locate the root node","zoom-in":"Zoom in (Ctrl+)","zoom-out":"Zoom out (Ctrl-)",markers:"tag",resource:"resource",help:"Help",preference:"Preferences",expandnode:"Expand to leaf",collapsenode:"receive a level one node",template:"template",theme:"skin",clearstyle:"clear style",copystyle:"copy style",pastestyle:"paste style",appendsiblingnode:"same theme",appendchildnode:"subordinate theme",arrangeup:"pre-tune",arrangedown:"post-tune",editnode:"Edit",removenode:"remove",priority:"Priority",progress:{p1:"not started",p2:"Complete 1/8",p3:"Complete 1/4",p4:"Complete 3/8",p5:"Complete half",p6:"Complete 5/8",p7:"Complete 3/4",p8:"Complete 7/8",p9:"Completed",p0:"clear progress"},link:"link",image:"picture",note:"Remarks",insertlink:"insert link",insertimage:"insert image",insertnote:"insert note",removelink:"Remove existing links",removeimage:"Remove existing image",removenote:"Remove existing notes",resetlayout:"Organize",justnow:"just",minutesago:"{0} minutes ago",hoursago:"{0} hours ago",yesterday:"Yesterday",daysago:"{0} days ago",longago:"A long time ago",redirect:"You are opening the connection {0}, Baidu mind map can not guarantee the security of the connection, do you want to continue? ",navigator:"navigator",unsavedcontent:"The current file has not been saved to the network drive: \n\n{0}\n\n Although unsaved data is cached in the drafts, clearing the browser cache will cause the drafts to be cleared. ",shortcuts:"shortcuts",contact:"Contact and feedback",email:"mail group",qq_group:"QQ group",github_issue:"Github",baidu_tieba:"贴吧",clipboardunsupported:"Your browser does not support clipboard, please use shortcut key to copy",load_success:"{0} loaded successfully",save_success:"{0} has been saved in {1}",autosave_success:"{0} has been automatically saved in {1}",selectall:"Select all",selectrevert:"inverse selection",selectsiblings:"Select brother nodes",selectlevel:"Select a peer node",selectpath:"Select path",selecttree:"Select subtree"},popupcolor:{clearColor:"clear color",standardColor:"standard color",themeColor:"Theme color"},dialogs:{markers:{static:{lang_input_text:"Text content:",lang_input_url:"Link address:",lang_input_title:"Title:",lang_input_target:"Whether in new window:"},priority:"Priority",none:"None",progress:{title:"progress",notdone:"unfinished",done1:"Complete 1/8",done2:"Complete 1/4",done3:"Complete 3/8",done4:"Complete 1/2",done5:"Complete 5/8",done6:"Complete 3/4",done7:"Complete 7/8",done:"Completed"}},help:{},hyperlink:{},image:{},resource:{}},hyperlink:{hyperlink:"link...",unhyperlink:"Remove link"},image:{image:"image...",removeimage:"Remove image"},marker:{marker:"progress/priority..."},resource:{resource:"Resources..."}}}),angular.module("kityminderEditor").service("lang.zh_CN",function(){return{template:{default:"思维导图",tianpan:"天盘图",structure:"组织结构图",filetree:"目录组织图",right:"逻辑结构图","fish-bone":"鱼骨头图"},theme:{classic:"脑图经典","classic-compact":"紧凑经典",snow:"温柔冷光","snow-compact":"紧凑冷光",fish:"鱼骨图",wire:"线框","fresh-red":"清新红","fresh-soil":"泥土黄","fresh-green":"文艺绿","fresh-blue":"天空蓝","fresh-purple":"浪漫紫","fresh-pink":"脑残粉","fresh-red-compat":"紧凑红","fresh-soil-compat":"紧凑黄","fresh-green-compat":"紧凑绿","fresh-blue-compat":"紧凑蓝","fresh-purple-compat":"紧凑紫","fresh-pink-compat":"紧凑粉",tianpan:"经典天盘","tianpan-compact":"紧凑天盘"},maintopic:"中心主题",topic:"分支主题",panels:{history:"历史",template:"模板",theme:"皮肤",layout:"布局",style:"样式",font:"文字",color:"颜色",background:"背景",insert:"插入",arrange:"调整",nodeop:"当前",priority:"优先级",progress:"进度",resource:"资源",note:"备注",attachment:"附件",word:"文字"},error_message:{title:"哎呀，脑图出错了",err_load:"加载脑图失败",err_save:"保存脑图失败",err_network:"网络错误",err_doc_resolve:"文档解析失败",err_unknown:"发生了奇怪的错误",err_localfile_read:"文件读取错误",err_download:"文件下载失败",err_remove_share:"取消分享失败",err_create_share:"分享失败",err_mkdir:"目录创建失败",err_ls:"读取目录失败",err_share_data:"加载分享内容出错",err_share_sync_fail:"分享内容同步失败",err_move_file:"文件移动失败",err_rename:"重命名失败",unknownreason:"可能是外星人篡改了代码...",pcs_code:{3:"不支持此接口",4:"没有权限执行此操作",5:"IP未授权",110:"用户会话已过期，请重新登录",31001:"数据库查询错误",31002:"数据库连接错误",31003:"数据库返回空结果",31021:"网络错误",31022:"暂时无法连接服务器",31023:"输入参数错误",31024:"app id为空",31025:"后端存储错误",31041:"用户的cookie不是合法的百度cookie",31042:"用户未登陆",31043:"用户未激活",31044:"用户未授权",31045:"用户不存在",31046:"用户已经存在",31061:"文件已经存在",31062:"文件名非法",31063:"文件父目录不存在",31064:"无权访问此文件",31065:"目录已满",31066:"文件不存在",31067:"文件处理出错",31068:"文件创建失败",31069:"文件拷贝失败",31070:"文件删除失败",31071:"不能读取文件元信息",31072:"文件移动失败",31073:"文件重命名失败",31079:"未找到文件MD5，请使用上传API上传整个文件。",31081:"superfile创建失败",31082:"superfile 块列表为空",31083:"superfile 更新失败",31101:"tag系统内部错误",31102:"tag参数错误",31103:"tag系统错误",31110:"未授权设置此目录配额",31111:"配额管理只支持两级目录",31112:"超出配额",31113:"配额不能超出目录祖先的配额",31114:"配额不能比子目录配额小",31141:"请求缩略图服务失败",31201:"签名错误",31202:"文件不存在",31203:"设置acl失败",31204:"请求acl验证失败",31205:"获取acl失败",31206:"acl不存在",31207:"bucket已存在",31208:"用户请求错误",31209:"服务器错误",31210:"服务器不支持",31211:"禁止访问",31212:"服务不可用",31213:"重试出错",31214:"上传文件data失败",31215:"上传文件meta失败",31216:"下载文件data失败",31217:"下载文件meta失败",31218:"容量超出限额",31219:"请求数超出限额",31220:"流量超出限额",31298:"服务器返回值KEY非法",31299:"服务器返回值KEY不存在"}},ui:{shared_file_title:"[分享的] {0} (只读)",load_share_for_edit:"正在加载分享的文件...",share_sync_success:"分享内容已同步",recycle_clear_confirm:"确认清空回收站么？清空后的文件无法恢复。",fullscreen_exit_hint:"按 Esc 或 F11 退出全屏",error_detail:"详细信息",copy_and_feedback:"复制并反馈",move_file_confirm:'确定把 "{0}" 移动到 "{1}" 吗？',rename:"重命名",rename_success:"{0} 重命名成功",move_success:"{0} 移动成功到 {1}",command:{exportPNG:"导出为PNG图片",exportSVG:"导出为SVG图片",appendsiblingnode:"插入同级主题",appendparentnode:"插入上级主题",appendchildnode:"插入下级主题",removenode:"删除",editnode:"编辑",arrangeup:"上移",arrangedown:"下移",resetlayout:"整理布局",expandtoleaf:"展开全部节点",expandtolevel1:"展开到一级节点",expandtolevel2:"展开到二级节点",expandtolevel3:"展开到三级节点",expandtolevel4:"展开到四级节点",expandtolevel5:"展开到五级节点",expandtolevel6:"展开到六级节点",fullscreen:"全屏",outline:"大纲"},search:"搜索",export:"导出",expandtoleaf:"展开",back:"返回",undo:"撤销 (Ctrl + Z)",redo:"重做 (Ctrl + Y)",tabs:{file:"文件",idea:"思路",appearence:"外观",view:"视图"},quickvisit:{new:"新建 (Ctrl + Alt + N)",save:"保存 (Ctrl + S)",share:"分享 (Ctrl + Alt + S)",feedback:"反馈问题（F1）",editshare:"编辑"},menu:{mainmenutext:"百度脑图",newtab:"新建",opentab:"打开",savetab:"保存",sharetab:"分享",preferencetab:"设置",helptab:"帮助",feedbacktab:"反馈",recenttab:"最近使用",netdisktab:"百度云存储",localtab:"本地文件",drafttab:"草稿箱",downloadtab:"导出到本地",createsharetab:"当前脑图",managesharetab:"已分享",newheader:"新建脑图",openheader:"打开",saveheader:"保存到",draftheader:"草稿箱",shareheader:"分享我的脑图",downloadheader:"导出到指定格式",preferenceheader:"偏好设置",helpheader:"帮助",feedbackheader:"反馈"},mydocument:"我的文档",emptydir:"目录为空！",pickfile:"选择文件...",acceptfile:"支持的格式：{0}",dropfile:"或将文件拖至此处",unsupportedfile:"不支持的文件格式",untitleddoc:"未命名文档",overrideconfirm:"{0} 已存在，确认覆盖吗？",checklogin:"检查登录状态中...",loggingin:"正在登录...",recent:"最近打开",clearrecent:"清空",clearrecentconfirm:"确认清空最近文档列表？",cleardraft:"清空",cleardraftconfirm:"确认清空草稿箱？",none_share:"不分享",public_share:"公开分享",password_share:"私密分享",email_share:"邮件邀请",url_share:"脑图 URL 地址：",sns_share:"社交网络分享：",sns_share_text:"“{0}” - 我用百度脑图制作的思维导图，快看看吧！（地址：{1}）",none_share_description:"不分享当前脑图",public_share_description:"创建任何人可见的分享",share_button_text:"创建",password_share_description:"创建需要密码才可见的分享",email_share_description:"创建指定人可见的分享，您还可以允许他们编辑",ondev:"敬请期待！",create_share_failed:"分享失败：{0}",remove_share_failed:"删除失败：{1}",copy:"复制",copied:"已复制",shared_tip:"当前脑图被 {0}  分享，你可以修改之后保存到自己的网盘上或再次分享",current_share:"当前脑图",manage_share:"我的分享",share_remove_action:"不分享该脑图",share_view_action:"打开分享地址",share_edit_action:"编辑分享的文件",login:"登录",logout:"注销",switchuser:"切换账户",userinfo:"个人信息",gotonetdisk:"我的网盘",requirelogin:'请 <a class="login-button">登录</a> 后使用',saveas:"保存为",filename:"文件名",fileformat:"保存格式",save:"保存",mkdir:"新建目录",recycle:"回收站",newdir:"未命名目录",bold:"加粗",italic:"斜体",forecolor:"字体颜色",fontfamily:"字体",fontsize:"字号",layoutstyle:"主题",node:"节点操作",saveto:"另存为",hand:"允许拖拽",camera:"定位根节点","zoom-in":"放大（Ctrl+）","zoom-out":"缩小（Ctrl-）",markers:"标签",resource:"资源",help:"帮助",preference:"偏好设置",expandnode:"展开到叶子",collapsenode:"收起到一级节点",template:"模板",theme:"皮肤",clearstyle:"清除样式",copystyle:"复制样式",pastestyle:"粘贴样式",appendsiblingnode:"同级主题",appendchildnode:"下级主题",arrangeup:"前调",arrangedown:"后调",editnode:"编辑",removenode:"移除",priority:"优先级",progress:{p1:"未开始",p2:"完成 1/8",p3:"完成 1/4",p4:"完成 3/8",p5:"完成一半",p6:"完成 5/8",p7:"完成 3/4",p8:"完成 7/8",p9:"已完成",p0:"清除进度"},link:"链接",image:"图片",note:"备注",insertlink:"插入链接",insertimage:"插入图片",insertnote:"插入备注",removelink:"移除已有链接",removeimage:"移除已有图片",removenote:"移除已有备注",resetlayout:"整理",justnow:"刚刚",minutesago:"{0} 分钟前",hoursago:"{0} 小时前",yesterday:"昨天",daysago:"{0} 天前",longago:"很久之前",redirect:"您正在打开连接 {0}，百度脑图不能保证连接的安全性，是否要继续？",navigator:"导航器",unsavedcontent:"当前文件还没有保存到网盘：\n\n{0}\n\n虽然未保存的数据会缓存在草稿箱，但是清除浏览器缓存会导致草稿箱清除。",shortcuts:"快捷键",contact:"联系与反馈",email:"邮件组",qq_group:"QQ 群",github_issue:"Github",baidu_tieba:"贴吧",clipboardunsupported:"您的浏览器不支持剪贴板，请使用快捷键复制",load_success:"{0} 加载成功",save_success:"{0} 已保存于 {1}",autosave_success:"{0} 已自动保存于 {1}",selectall:"全选",selectrevert:"反选",selectsiblings:"选择兄弟节点",selectlevel:"选择同级节点",selectpath:"选择路径",selecttree:"选择子树"},popupcolor:{clearColor:"清空颜色",standardColor:"标准颜色",themeColor:"主题颜色"},dialogs:{markers:{static:{lang_input_text:"文本内容：",lang_input_url:"链接地址：",lang_input_title:"标题：",lang_input_target:"是否在新窗口："},priority:"优先级",none:"无",progress:{title:"进度",notdone:"未完成",done1:"完成 1/8",done2:"完成 1/4",done3:"完成 3/8",done4:"完成 1/2",done5:"完成 5/8",done6:"完成 3/4",done7:"完成 7/8",done:"已完成"}},help:{},hyperlink:{},image:{},resource:{}},hyperlink:{hyperlink:"链接...",unhyperlink:"移除链接"},image:{image:"图片...",removeimage:"移除图片"},marker:{marker:"进度/优先级..."},resource:{resource:"资源..."}}}),angular.module("kityminderEditor").service("lang.zh-cn",function(){return{template:{default:"思维导图",tianpan:"天盘图",structure:"组织结构图",filetree:"目录组织图",right:"逻辑结构图","fish-bone":"鱼骨头图"},theme:{classic:"脑图经典","classic-compact":"紧凑经典",snow:"温柔冷光","snow-compact":"紧凑冷光",fish:"鱼骨图",wire:"线框","fresh-red":"清新红","fresh-soil":"泥土黄","fresh-green":"文艺绿","fresh-blue":"天空蓝","fresh-purple":"浪漫紫","fresh-pink":"脑残粉","fresh-red-compat":"紧凑红","fresh-soil-compat":"紧凑黄","fresh-green-compat":"紧凑绿","fresh-blue-compat":"紧凑蓝","fresh-purple-compat":"紧凑紫","fresh-pink-compat":"紧凑粉",tianpan:"经典天盘","tianpan-compact":"紧凑天盘"},maintopic:"中心主题",topic:"分支主题",panels:{history:"历史",template:"模板",theme:"皮肤",layout:"布局",style:"样式",font:"文字",color:"颜色",background:"背景",insert:"插入",arrange:"调整",nodeop:"当前",priority:"优先级",progress:"进度",resource:"资源",note:"备注",attachment:"附件",word:"文字"},error_message:{title:"哎呀，脑图出错了",err_load:"加载脑图失败",err_save:"保存脑图失败",err_network:"网络错误",err_doc_resolve:"文档解析失败",err_unknown:"发生了奇怪的错误",err_localfile_read:"文件读取错误",err_download:"文件下载失败",err_remove_share:"取消分享失败",err_create_share:"分享失败",err_mkdir:"目录创建失败",err_ls:"读取目录失败",err_share_data:"加载分享内容出错",err_share_sync_fail:"分享内容同步失败",err_move_file:"文件移动失败",err_rename:"重命名失败",unknownreason:"可能是外星人篡改了代码...",pcs_code:{3:"不支持此接口",4:"没有权限执行此操作",5:"IP未授权",110:"用户会话已过期，请重新登录",31001:"数据库查询错误",31002:"数据库连接错误",31003:"数据库返回空结果",31021:"网络错误",31022:"暂时无法连接服务器",31023:"输入参数错误",31024:"app id为空",31025:"后端存储错误",31041:"用户的cookie不是合法的百度cookie",31042:"用户未登陆",31043:"用户未激活",31044:"用户未授权",31045:"用户不存在",31046:"用户已经存在",31061:"文件已经存在",31062:"文件名非法",31063:"文件父目录不存在",31064:"无权访问此文件",31065:"目录已满",31066:"文件不存在",31067:"文件处理出错",31068:"文件创建失败",31069:"文件拷贝失败",31070:"文件删除失败",31071:"不能读取文件元信息",31072:"文件移动失败",31073:"文件重命名失败",31079:"未找到文件MD5，请使用上传API上传整个文件。",31081:"superfile创建失败",31082:"superfile 块列表为空",31083:"superfile 更新失败",31101:"tag系统内部错误",31102:"tag参数错误",31103:"tag系统错误",31110:"未授权设置此目录配额",31111:"配额管理只支持两级目录",31112:"超出配额",31113:"配额不能超出目录祖先的配额",31114:"配额不能比子目录配额小",31141:"请求缩略图服务失败",31201:"签名错误",31202:"文件不存在",31203:"设置acl失败",31204:"请求acl验证失败",31205:"获取acl失败",31206:"acl不存在",31207:"bucket已存在",31208:"用户请求错误",31209:"服务器错误",31210:"服务器不支持",31211:"禁止访问",31212:"服务不可用",31213:"重试出错",31214:"上传文件data失败",31215:"上传文件meta失败",31216:"下载文件data失败",31217:"下载文件meta失败",31218:"容量超出限额",31219:"请求数超出限额",31220:"流量超出限额",31298:"服务器返回值KEY非法",31299:"服务器返回值KEY不存在"}},ui:{shared_file_title:"[分享的] {0} (只读)",load_share_for_edit:"正在加载分享的文件...",share_sync_success:"分享内容已同步",recycle_clear_confirm:"确认清空回收站么？清空后的文件无法恢复。",fullscreen_exit_hint:"按 Esc 或 F11 退出全屏",error_detail:"详细信息",copy_and_feedback:"复制并反馈",move_file_confirm:'确定把 "{0}" 移动到 "{1}" 吗？',rename:"重命名",rename_success:"{0} 重命名成功",move_success:"{0} 移动成功到 {1}",command:{exportPNG:"导出为PNG图片",exportSVG:"导出为SVG图片",appendsiblingnode:"插入同级主题",appendparentnode:"插入上级主题",appendchildnode:"插入下级主题",removenode:"删除",editnode:"编辑",arrangeup:"上移",arrangedown:"下移",resetlayout:"整理布局",expandtoleaf:"展开全部节点",expandtolevel1:"展开到一级节点",expandtolevel2:"展开到二级节点",expandtolevel3:"展开到三级节点",expandtolevel4:"展开到四级节点",expandtolevel5:"展开到五级节点",expandtolevel6:"展开到六级节点",fullscreen:"全屏",outline:"大纲"},search:"搜索",export:"导出",expandtoleaf:"展开",back:"返回",undo:"撤销 (Ctrl + Z)",redo:"重做 (Ctrl + Y)",tabs:{file:"文件",idea:"思路",appearence:"外观",view:"视图"},quickvisit:{new:"新建 (Ctrl + Alt + N)",save:"保存 (Ctrl + S)",share:"分享 (Ctrl + Alt + S)",feedback:"反馈问题（F1）",editshare:"编辑"},menu:{mainmenutext:"百度脑图",newtab:"新建",opentab:"打开",savetab:"保存",sharetab:"分享",preferencetab:"设置",helptab:"帮助",feedbacktab:"反馈",recenttab:"最近使用",netdisktab:"百度云存储",localtab:"本地文件",drafttab:"草稿箱",downloadtab:"导出到本地",createsharetab:"当前脑图",managesharetab:"已分享",newheader:"新建脑图",openheader:"打开",saveheader:"保存到",draftheader:"草稿箱",shareheader:"分享我的脑图",downloadheader:"导出到指定格式",preferenceheader:"偏好设置",helpheader:"帮助",feedbackheader:"反馈"},mydocument:"我的文档",emptydir:"目录为空！",pickfile:"选择文件...",acceptfile:"支持的格式：{0}",dropfile:"或将文件拖至此处",unsupportedfile:"不支持的文件格式",untitleddoc:"未命名文档",overrideconfirm:"{0} 已存在，确认覆盖吗？",checklogin:"检查登录状态中...",loggingin:"正在登录...",recent:"最近打开",clearrecent:"清空",clearrecentconfirm:"确认清空最近文档列表？",cleardraft:"清空",cleardraftconfirm:"确认清空草稿箱？",none_share:"不分享",public_share:"公开分享",password_share:"私密分享",email_share:"邮件邀请",url_share:"脑图 URL 地址：",sns_share:"社交网络分享：",sns_share_text:"“{0}” - 我用百度脑图制作的思维导图，快看看吧！（地址：{1}）",none_share_description:"不分享当前脑图",public_share_description:"创建任何人可见的分享",share_button_text:"创建",password_share_description:"创建需要密码才可见的分享",email_share_description:"创建指定人可见的分享，您还可以允许他们编辑",ondev:"敬请期待！",create_share_failed:"分享失败：{0}",remove_share_failed:"删除失败：{1}",copy:"复制",copied:"已复制",shared_tip:"当前脑图被 {0}  分享，你可以修改之后保存到自己的网盘上或再次分享",current_share:"当前脑图",manage_share:"我的分享",share_remove_action:"不分享该脑图",share_view_action:"打开分享地址",share_edit_action:"编辑分享的文件",login:"登录",logout:"注销",switchuser:"切换账户",userinfo:"个人信息",gotonetdisk:"我的网盘",requirelogin:'请 <a class="login-button">登录</a> 后使用',saveas:"保存为",filename:"文件名",fileformat:"保存格式",save:"保存",mkdir:"新建目录",recycle:"回收站",newdir:"未命名目录",bold:"加粗",italic:"斜体",forecolor:"字体颜色",fontfamily:"字体",fontsize:"字号",layoutstyle:"主题",node:"节点操作",saveto:"另存为",hand:"允许拖拽",camera:"定位根节点","zoom-in":"放大（Ctrl+）","zoom-out":"缩小（Ctrl-）",markers:"标签",resource:"资源",help:"帮助",preference:"偏好设置",expandnode:"展开到叶子",collapsenode:"收起到一级节点",template:"模板",theme:"皮肤",clearstyle:"清除样式",copystyle:"复制样式",pastestyle:"粘贴样式",appendsiblingnode:"同级主题",appendchildnode:"下级主题",arrangeup:"前调",arrangedown:"后调",editnode:"编辑",removenode:"移除",priority:"优先级",progress:{p1:"未开始",p2:"完成 1/8",p3:"完成 1/4",p4:"完成 3/8",p5:"完成一半",p6:"完成 5/8",p7:"完成 3/4",p8:"完成 7/8",p9:"已完成",p0:"清除进度"},link:"链接",image:"图片",note:"备注",insertlink:"插入链接",insertimage:"插入图片",insertnote:"插入备注",removelink:"移除已有链接",removeimage:"移除已有图片",removenote:"移除已有备注",resetlayout:"整理",justnow:"刚刚",minutesago:"{0} 分钟前",hoursago:"{0} 小时前",yesterday:"昨天",daysago:"{0} 天前",longago:"很久之前",redirect:"您正在打开连接 {0}，百度脑图不能保证连接的安全性，是否要继续？",navigator:"导航器",unsavedcontent:"当前文件还没有保存到网盘：\n\n{0}\n\n虽然未保存的数据会缓存在草稿箱，但是清除浏览器缓存会导致草稿箱清除。",shortcuts:"快捷键",contact:"联系与反馈",email:"邮件组",qq_group:"QQ 群",github_issue:"Github",baidu_tieba:"贴吧",clipboardunsupported:"您的浏览器不支持剪贴板，请使用快捷键复制",load_success:"{0} 加载成功",save_success:"{0} 已保存于 {1}",autosave_success:"{0} 已自动保存于 {1}",selectall:"全选",selectrevert:"反选",selectsiblings:"选择兄弟节点",selectlevel:"选择同级节点",selectpath:"选择路径",selecttree:"选择子树"},popupcolor:{clearColor:"清空颜色",standardColor:"标准颜色",themeColor:"主题颜色"},dialogs:{markers:{static:{lang_input_text:"文本内容：",lang_input_url:"链接地址：",lang_input_title:"标题：",lang_input_target:"是否在新窗口："},priority:"优先级",none:"无",progress:{title:"进度",notdone:"未完成",done1:"完成 1/8",done2:"完成 1/4",done3:"完成 3/8",done4:"完成 1/2",done5:"完成 5/8",done6:"完成 3/4",done7:"完成 7/8",done:"已完成"}},help:{},hyperlink:{},image:{},resource:{}},hyperlink:{hyperlink:"链接...",unhyperlink:"移除链接"},image:{image:"图片...",removeimage:"移除图片"},marker:{marker:"进度/优先级..."},resource:{resource:"资源..."}}}),angular.module("kityminderEditor").service("lang.zh_PNY",function(){return{template:{default:"Sīwéi dǎo tú",tianpan:"Tiān pán tú",structure:"Zǔzhī jiégòu tú",filetree:"Mùlù zǔzhī tú",right:"Luójí jiégòu tú","fish-bone":"Yú gǔtou tú"},theme:{classic:"Nǎo tú jīngdiǎn","classic-compact":"Jǐncòu jīngdiǎn",snow:"Wēnróu lěngguāng","snow-compact":"Jǐncòu lěngguāng",fish:"Yú gǔ tú",wire:"Xiàn kuāng","fresh-red":"Qīngxīn hóng","fresh-soil":"Nítǔ huáng","fresh-green":"Wényì lǜ","fresh-blue":"Tiānkōng lán","fresh-purple":"Làngmàn zǐ","fresh-pink":"Nǎocán fěn","fresh-red-compat":"Jǐncòu hóng","fresh-soil-compat":"Jǐncòu huáng","fresh-green-compat":"Jǐncòu lǜ","fresh-blue-compat":"Jǐncòu lán","fresh-purple-compat":"Jǐncòu zǐ","fresh-pink-compat":"Jǐncòu fěn",tianpan:"Jīngdiǎn tiān pán","tianpan-compact":"Jǐncòu tiān pán"},maintopic:"Zhōngxīn zhǔtí",topic:"Fēnzhī zhǔtí",panels:{history:"Lìshǐ",template:"Múbǎn",theme:"Pífū",layout:"Bùjú",style:"Yàngshì",font:"Wénzì",color:"Yánsè",background:"Bèijǐng",insert:"Chārù",arrange:"Tiáozhěng",nodeop:"Dāngqián",priority:"Yōuxiān jí",progress:"Jìndù",resource:"Zīyuán",note:"Bèizhù",attachment:"Fùjiàn",word:"Wénzì"},error_message:{title:"Āiyā, nǎo tú chūcuòle",err_load:"Jiāzài nǎo tú shībài",err_save:"Bǎocún nǎo tú shībài",err_network:"Wǎngluò cuòwù",err_doc_resolve:"Wéndàng jiěxī shībài",err_unknown:"Fāshēngle qíguài de cuòwù",err_localfile_read:"Wénjiàn dòu qǔ cuòwù",err_download:"Wénjiàn xià zǎi shībài",err_remove_share:"Qǔxiāo fēnxiǎng shībài",err_create_share:"Fēnxiǎng shībài",err_mkdir:"Mùlù chuàngjiàn shībài",err_ls:"Dòu qǔ mùlù shībài",err_share_data:"Jiāzài fēnxiǎng nèiróng chūcuò",err_share_sync_fail:"Fēnxiǎng nèiróng tóngbù shībài",err_move_file:"Wénjiàn yídòng shībài",err_rename:"Zhòng mìngmíng shībài",unknownreason:"Kěnéng shì wài xīng rén cuàngǎile dàimǎ...",pcs_code:{3:"Bù zhīchí cǐ jiēkǒu",4:"Méiyǒu quánxiàn zhíxíng cǐ cāozuò",5:"IP wèi shòuquán",110:"Yònghù huìhuà yǐ guòqí, qǐng chóngxīn dēnglù",31001:"Shùjùkù cháxún cuòwù",31002:"Shùjùkù liánjiē cuòwù",31003:"Shùjùkù fǎnhuí kōng jiéguǒ",31021:"Wǎngluò cuòwù",31022:"Zhànshí wúfǎ liánjiē fúwùqì",31023:"Shūrù cānshù cuòwù",31024:"App id wèi kōng",31025:"Hòu duān cúnchú cuòwù",31041:"Yònghù de cookie bùshì héfǎ de bǎidù cookie",31042:"Yònghù wèi dēnglù",31043:"Yònghù wèi jīhuó",31044:"Yònghù wèi shòuquán",31045:"Yònghù bù cúnzài",31046:"Yònghù yǐjīng cúnzài",31061:"Wénjiàn yǐjīng cúnzài",31062:"Wénjiàn míng fēifǎ",31063:"Wénjiàn fù mùlù bù cúnzài",31064:"Wú quán fǎngwèn cǐ wénjiàn",31065:"Mùlù yǐ mǎn",31066:"Wénjiàn bù cúnzài",31067:"Wénjiàn chǔlǐ chūcuò",31068:"Wénjiàn chuàngjiàn shībài",31069:"Wénjiàn kǎobèi shībài",31070:"Wénjiàn shānchú shībài",31071:"Bùnéng dòu qǔ wénjiàn yuán xìnxī",31072:"Wénjiàn yídòng shībài",31073:"Wénjiàn zhòng mìngmíng shībài",31079:"Wèi zhǎodào wénjiàn MD5, qǐng shǐyòng shàngchuán API shàngchuán zhěnggè wénjiàn.",31081:"superfile chuàngjiàn shībài",31082:"superfile kuài lièbiǎo wèi kōng",31083:"superfile gēngxīn shībài",31101:"Tag xìtǒng nèibù cuòwù",31102:"Tag cānshù cuòwù",31103:"Tag xìtǒng cuòwù",31110:"Wèi shòuquán shèzhì cǐ mùlù pèi'é",31111:"Pèi'é guǎnlǐ zhǐ zhīchí liǎng jí mùlù",31112:"Chāochū pèi'é",31113:"Pèi'é bùnéng chāochū mùlù zǔxiān de pèi'é",31114:"Pèi'é bùnéng bǐ zǐ mùlù pèi'é xiǎo",31141:"Qǐngqiú suō lüètú fúwù shībài",31201:"Qiānmíng cuòwù",31202:"Wénjiàn bù cúnzài",31203:"Shèzhì acl shībài",31204:"Qǐngqiú acl yànzhèng shībài",31205:"Huòqǔ acl shībài",31206:"Acl bù cúnzài",31207:"Bucket yǐ cúnzài",31208:"Yònghù qǐngqiú cuòwù",31209:"Fúwùqì cuòwù",31210:"Fúwùqì bù zhīchí",31211:"Jìnzhǐ fǎngwèn",31212:"Fúwù bùkě yòng",31213:"Chóng shì chūcuò",31214:"Shàngchuán wénjiàn data shībài",31215:"Shàngchuán wénjiàn meta shībài",31216:"Xiàzài wénjiàn data shībài",31217:"Xiàzài wénjiàn meta shībài",31218:"Róngliàng chāochū xiàn'é",31219:"Qǐngqiú shù chāochū xiàn'é",31220:"Liúliàng chāochū xiàn'é",31298:"Fúwùqì fǎnhuí zhí KEY fēifǎ",31299:"Fúwùqì fǎnhuí zhí KEY bù cúnzài"}},ui:{shared_file_title:"[Fēnxiǎng de] {0} (zhǐ dú)",load_share_for_edit:"Zhèngzài jiāzài fēnxiǎng de wénjiàn...",share_sync_success:"Fēnxiǎng nèiróng yǐ tóngbù",recycle_clear_confirm:"Quèrèn qīngkōng huíshōu zhàn me? Qīngkōng hòu de wénjiàn wúfǎ huīfù.",fullscreen_exit_hint:"Àn Esc huò F11 tuìchū quánpíng",error_detail:"Xiángxì xìnxī",copy_and_feedback:"Fùzhì bìng fǎnkuì",move_file_confirm:'Quèdìng bǎ"{0}" yídòng dào"{1}" ma?',rename:"Zhòng mìngmíng",rename_success:"{0} Zhòng mìngmíng chénggōng",move_success:"{0} Yídòng chénggōng dào {1}",command:{exportPNG:"Dǎochū wèi PNG túpiàn",exportSVG:"Dǎochū wèi SVG túpiàn",appendsiblingnode:"Chārù tóng jí zhǔtí",appendparentnode:"Chārù shàngjí zhǔtí",appendchildnode:"Chārù xiàjí zhǔtí",removenode:"Shānchú",editnode:"Biānjí",arrangeup:"Shàng yí",arrangedown:"Xià yí",resetlayout:"Zhěnglǐ bùjú",expandtoleaf:"Zhǎnkāi quánbù jiédiǎn",expandtolevel1:"Zhǎnkāi dào yī jí jiédiǎn",expandtolevel2:"Zhǎnkāi dào èr jí jiédiǎn",expandtolevel3:"Zhǎnkāi dào sān jí jiédiǎn",expandtolevel4:"Zhǎnkāi dào sì jí jiédiǎn",expandtolevel5:"Zhǎnkāi dào wǔ jí jiédiǎn",expandtolevel6:"Zhǎnkāi dào liù jí jiédiǎn",fullscreen:"Quánpíng",outline:"Dàgāng"},search:"Sōusuǒ",export:"Dǎochū",expandtoleaf:"Zhǎnkāi",back:"Fǎnhuí",undo:"Chèxiāo (Ctrl + Z)",redo:"Chóng zuò (Ctrl + Y)",tabs:{file:"Wénjiàn",idea:"Sīlù",appearence:"Wàiguān",view:"Shìtú"},quickvisit:{new:"Xīnjiàn (Ctrl + Alt + N)",save:"Bǎocún (Ctrl + S)",share:"Fēnxiǎng (Ctrl + Alt + S)",feedback:"Fǎnkuì wèntí (F1)",editshare:"Biānjí"},menu:{mainmenutext:"Bǎidù nǎo tú",newtab:"Xīnjiàn",opentab:"Dǎkāi",savetab:"Bǎocún",sharetab:"Fēnxiǎng",preferencetab:"Shèzhì",helptab:"Bāngzhù",feedbacktab:"Fǎnkuì",recenttab:"Zuìjìn shǐyòng",netdisktab:"Bǎidù yún cúnchú",localtab:"Běndì wénjiàn",drafttab:"Cǎogǎo xiāng",downloadtab:"Dǎochū dào běndì",createsharetab:"Dāngqián nǎo tú",managesharetab:"Yǐ fēnxiǎng",newheader:"Xīnjiàn nǎo tú",openheader:"Dǎkāi",saveheader:"Bǎocún dào",draftheader:"Cǎogǎo xiāng",shareheader:"Fēnxiǎng wǒ de nǎo tú",downloadheader:"Dǎochū dào zhǐdìng géshì",preferenceheader:"Piānhào shèzhì",helpheader:"Bāngzhù",feedbackheader:"Fǎnkuì"},mydocument:"Wǒ de wéndàng",emptydir:"Mùlù wèi kōng!",pickfile:"Xuǎnzé wénjiàn...",acceptfile:"Zhīchí de géshì:{0}",dropfile:"Huò jiāng wénjiàn tuō zhìcǐ chù",unsupportedfile:"Bù zhīchí de wénjiàn géshì",untitleddoc:"Wèi mìngmíng wéndàng",overrideconfirm:"{0} Yǐ cúnzài, quèrèn fùgài ma?",checklogin:"Jiǎnchá dēnglù zhuàngtài zhōng...",loggingin:"Zhèngzài dēnglù...",recent:"Zuìjìn dǎkāi",clearrecent:"Qīngkōng",clearrecentconfirm:"Quèrèn qīngkōng zuìjìn wéndàng lièbiǎo?",cleardraft:"Qīngkōng",cleardraftconfirm:"Quèrèn qīngkōng cǎogǎo xiāng?",none_share:"Bù fēnxiǎng",public_share:"Gōngkāi fēnxiǎng",password_share:"Sīmì fēnxiǎng",email_share:"Yóujiàn yāoqǐng",url_share:"Nǎo tú URL dìzhǐ:",sns_share:"Shèjiāo wǎngluò fēnxiǎng:",sns_share_text:"“{0}” - Wǒ yòng bǎidù nǎo tú zhìzuò de sīwéi dǎo tú, kuài kàn kàn ba!(Dìzhǐ:{1})",none_share_description:"Bù fēnxiǎng dāngqián nǎo tú",public_share_description:"Chuàngjiàn rènhé rén kějiàn de fēnxiǎng",share_button_text:"Chuàngjiàn",password_share_description:"Chuàngjiàn xūyào mìmǎ cái kějiàn de fēnxiǎng",email_share_description:"Chuàngjiàn zhǐdìng rén kějiàn de fēnxiǎng, nín hái kěyǐ yǔnxǔ tāmen biānjí",ondev:"Jìng qǐng qídài!",create_share_failed:"Fēnxiǎng shībài:{0}",remove_share_failed:"Shānchú shībài:{1}",copy:"Fùzhì",copied:"Yǐ fùzhì",shared_tip:"Dāngqián nǎo tú bèi {0} fēnxiǎng, nǐ kěyǐ xiūgǎi zhīhòu bǎocún dào zìjǐ de wǎng pán shàng huò zàicì fēnxiǎng",current_share:"Dāngqián nǎo tú",manage_share:"Wǒ de fēnxiǎng",share_remove_action:"Bù fēnxiǎng gāi nǎo tú",share_view_action:"Dǎkāi fēnxiǎng dìzhǐ",share_edit_action:"Biānjí fēnxiǎng de wénjiàn",login:"Dēnglù",logout:"Zhùxiāo",switchuser:"Qiēhuàn zhànghù",userinfo:"Gèrén xìnxī",gotonetdisk:"Wǒ de wǎng pán",requirelogin:'Qǐng <a class="login-button">dēnglù </a> hòu shǐyòng',saveas:"Bǎocún wèi",filename:"Wénjiàn míng",fileformat:"Bǎocún géshì",save:"Bǎocún",mkdir:"Xīnjiàn mùlù",recycle:"Huíshōu zhàn",newdir:"Wèi mìngmíng mùlù",bold:"Jiā cū",italic:"Xiétǐ",forecolor:"Zìtǐ yánsè",fontfamily:"Zìtǐ",fontsize:"Zìhao",layoutstyle:"Zhǔtí",node:"Jiédiǎn cāozuò",saveto:"Lìngcún wèi",hand:"Yǔnxǔ tuō zhuāi",camera:"Dìngwèi gēn jiédiǎn","zoom-in":"Fàngdà (Ctrl+)","zoom-out":"Suōxiǎo (Ctrl-)",markers:"Biāoqiān",resource:"Zīyuán",help:"Bāngzhù",preference:"Piānhào shèzhì",expandnode:"Zhǎnkāi dào yèzi",collapsenode:"Shōu qǐ dào yī jí jiédiǎn",template:"Múbǎn",theme:"Pífū",clearstyle:"Qīngchú yàngshì",copystyle:"Fùzhì yàngshì",pastestyle:"Zhāntiē yàngshì",appendsiblingnode:"Tóng jí zhǔtí",appendchildnode:"Xiàjí zhǔtí",arrangeup:"Qián diào",arrangedown:"Hòu diào",editnode:"Biānjí",removenode:"Yí chú",priority:"Yōuxiān jí",progress:{p1:"Wèi kāishǐ",p2:"Wánchéng 1/8",p3:"Wánchéng 1/4",p4:"Wánchéng 3/8",p5:"Wánchéng yībàn",p6:"Wánchéng 5/8",p7:"Wánchéng 3/4",p8:"Wánchéng 7/8",p9:"Yǐ wánchéng",p0:"Qīngchú jìndù"},link:"Liànjiē",image:"Túpiàn",note:"Bèizhù",insertlink:"Chārù liànjiē",insertimage:"Chārù túpiàn",insertnote:"Chārù bèizhù",removelink:"Yí chú yǐ yǒu liànjiē",removeimage:"Yí chú yǐ yǒu túpiàn",removenote:"Yí chú yǐ yǒu bèizhù",resetlayout:"Zhěnglǐ",justnow:"Gānggāng",minutesago:"{0} Fēnzhōng qián",hoursago:"{0} Xiǎoshí qián",yesterday:"Zuótiān",daysago:"{0} Tiān qián",longago:"Hěnjiǔ zhīqián",redirect:"Nín zhèngzài dǎkāi liánjiē {0}, bǎidù nǎo tú bùnéng bǎozhèng liánjiē de ānquán xìng, shìfǒu yào jìxù?",navigator:"Dǎoháng qì",unsavedcontent:"Dāngqiáng wénjiàn hái méiyǒu bǎocún dào wǎng pán:N\n{0}\n\n suīrán wèi bǎocún de shùjù huì huǎncún zài cǎogǎo xiāng, dànshì qīngchú liúlǎn qì huǎncún huì dǎozhì cǎogǎo xiāng qīngchú.",shortcuts:"Kuàijié jiàn",contact:"Liánxì yǔ fǎnkuì",email:"Yóujiàn zǔ",qq_group:"QQ qún",github_issue:"Github",baidu_tieba:"Tiēba",clipboardunsupported:"Nín de liúlǎn qì bù zhīchí jiǎntiē bǎn, qǐng shǐyòng kuàijié jiàn fùzhì",load_success:"{0} Jiāzài chénggōng",save_success:"{0} Yǐ bǎocún yú {1}",autosave_success:"{0} Yǐ zìdòng bǎocún yú {1}",selectall:"Quán xuǎn",selectrevert:"Fǎnxuǎn",selectsiblings:"Xuǎnzé xiōngdì jiédiǎn",selectlevel:"Xuǎnzé tóng jí jiédiǎn",selectpath:"Xuǎnzé lùjìng",selecttree:"Xuǎnzé zǐ shù"},popupcolor:{clearColor:"Qīngkōng yánsè",standardColor:"Biāozhǔn yánsè",themeColor:"Zhǔtí yánsè"},dialogs:{markers:{static:{lang_input_text:"Wénběn nèiróng:",lang_input_url:"Liànjiē dìzhǐ:",lang_input_title:"Biāotí:",lang_input_target:"Shìfǒu zài xīn chuāngkǒu:"},priority:"Yōuxiān jí",none:"Wú",progress:{title:"Jìndù",notdone:"Wèi wánchéng",done1:"Wánchéng 1/8",done2:"Wánchéng 1/4",done3:"Wánchéng 3/8",done4:"Wánchéng 1/2",done5:"Wánchéng 5/8",done6:"Wánchéng 3/4",done7:"Wánchéng 7/8",done:"Yǐ wánchéng"}},help:{},hyperlink:{},image:{},resource:{}},hyperlink:{hyperlink:"Liànjiē...",unhyperlink:"Yí chú liànjiē"},image:{image:"Túpiàn...",removeimage:"Yí chú túpiàn"},marker:{marker:"Jìndù/yōuxiān jí..."},resource:{resource:"Zīyuán..."}}}),angular.module("kityminderEditor").service("memory",function(){return{get:function(e){var n=window.localStorage.getItem(e);return JSON.parse(n)},set:function(e,n){try{return window.localStorage.setItem(e,JSON.stringify(n)),!0}catch(e){if(function(e){var n=!1;if(e)if(e.code)switch(e.code){case 22:n=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(n=!0)}else-2147024882===e.number&&(n=!0);return n}(e))return!1}},remove:function(e){var n=window.localStorage.getItem(e);return window.localStorage.removeItem(e),n},clear:function(){window.localStorage.clear()}}}),angular.module("kityminderEditor").service("minder.service",function(){var n=[];return{registerEvent:function(e){n.push(e)},executeCallback:function(){n.forEach(function(e){e.apply(this,arguments)})}}}),angular.module("kityminderEditor").service("resourceService",["$document",function(n){var t=null;this.open=function(e){t||(n.bind("click",r),n.bind("keydown",i)),t&&t!==e&&(t.resourceListOpen=!1),t=e},this.close=function(e){t===e&&(t=null,n.unbind("click",r),n.unbind("keydown",i))};var r=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){console.log("to close the resourcelist"),t.resourceListOpen=!1})}},i=function(e){27===e.which&&(t.focusToggleElement(),r())}}]),angular.module("kityminderEditor").service("revokeDialog",["$uibModal","minder.service",function(e,n){return n.registerEvent(function(){var n=window.minder,t=window.editor,r=t.hotbox.getParentFSM();n.on("importNodeData",function(){r.jump("modal","import-text-modal"),e.open({animation:!0,templateUrl:"ui/dialog/imExportNode/imExportNode.tpl.html",controller:"imExportNode.ctrl",size:"md",resolve:{title:function(){return"导入节点"},defaultValue:function(){return""},type:function(){return"import"}}}).result.then(function(e){try{n.Text2Children(n.getSelectedNode(),e)}catch(e){alert(e)}r.jump("normal","import-text-finish"),t.receiver.selectAll()},function(){r.jump("normal","import-text-finish"),t.receiver.selectAll()})}),n.on("exportNodeData",function(){r.jump("modal","export-text-modal"),e.open({animation:!0,templateUrl:"ui/dialog/imExportNode/imExportNode.tpl.html",controller:"imExportNode.ctrl",size:"md",resolve:{title:function(){return"导出节点"},defaultValue:function(){var e=n.getSelectedNode();return(0,window.kityminder.data.getRegisterProtocol("text").Node2Text)(e)},type:function(){return"export"}}}).result.then(function(e){r.jump("normal","export-text-finish"),t.receiver.selectAll()},function(){r.jump("normal","export-text-finish"),t.receiver.selectAll()})})}),{}}]),angular.module("kityminderEditor").service("server",["config","$http",function(r,i){return{uploadImage:function(e){var n=r.get("imageUpload"),t=new FormData;return t.append("upload_file",e),i.post(n,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}}}]),angular.module("kityminderEditor").service("valueTransfer",function(){return{}}),angular.module("kityminderEditor").filter("commandState",function(){return function(e,n){return e.queryCommandState(n)}}).filter("commandValue",function(){return function(e,n){return e.queryCommandValue(n)}}),angular.module("kityminderEditor").filter("lang",["config","$injector",function(i,a){return function(e,n){var t=i.get("defaultLang"),r=null;try{r=a.get("lang."+t)}catch(e){r=a.get("lang.en")}return n.split("/").forEach(function(e,n){r=r[e]}),r[e]||null}}]),angular.module("kityminderEditor").controller("hyperlink.ctrl",["$scope","$modalInstance","link",function(n,t,e){n.R_URL=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),n.url=e.url||"",n.title=e.title||"",setTimeout(function(){var e=$("#link-url");e.focus(),e[0].setSelectionRange(0,n.url.length)},30),n.shortCut=function(e){e.stopPropagation(),13==e.keyCode?n.ok():27==e.keyCode&&n.cancel()},n.ok=function(){if(n.R_URL.test(n.url))t.close({url:n.url,title:n.title});else{n.urlPassed=!1;var e=$("#link-url");e.focus(),e[0].setSelectionRange(0,n.url.length)}editor.receiver.selectAll()},n.cancel=function(){t.dismiss("cancel"),editor.receiver.selectAll()}}]),angular.module("kityminderEditor").controller("imExportNode.ctrl",["$scope","$modalInstance","title","defaultValue","type",function(i,e,n,t,a){i.title=n,i.value=t,i.type=a,i.ok=function(){""!=i.value&&(e.close(i.value),editor.receiver.selectAll())},i.cancel=function(){e.dismiss("cancel"),editor.receiver.selectAll()},setTimeout(function(){$(".single-input").focus(),$(".single-input")[0].setSelectionRange(0,t.length)},30),i.shortCut=function(e){if(e.stopPropagation(),27==e.keyCode&&i.cancel(),8==e.keyCode&&"export"==a&&e.preventDefault(),9==e.keyCode){e.preventDefault();var n=e.target,t=function(e){var n=0;if(document.selection){e.focus();var t=document.selection.createRange();t.moveStart("character",-e.value.length),n=t.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(n=e.selectionStart);return n}(n),r=n.value;n.value=r.substr(0,t)+"\t"+r.substr(t),function(e,n){if(e.setSelectionRange)e.focus(),e.setSelectionRange(n,n);else if(e.createTextRange){var t=e.createTextRange();t.collapse(!0),t.moveEnd("character",n),t.moveStart("character",n),t.select()}}(n,t+1)}}}]),angular.module("kityminderEditor").controller("image.ctrl",["$http","$scope","$modalInstance","image","server",function(r,i,n,e,t){i.data={list:[],url:e.url||"",title:e.title||"",R_URL:/^(http|https|data)?\:\w+/},setTimeout(function(){var e=$("#image-url");e.focus(),e[0].setSelectionRange(0,i.data.url.length)},300),n.rendered.then(function(){$("#upload-image").change(function(){i.uploadImage()})}),i.searchImage=function(){var e,n,t;i.list=[],(e=i.data.searchKeyword2,n=new Date,t="http://image.baidu.com/search/acjson?tn=resultjson_com&ipn=rj&ct=201326592&fp=result&queryWord="+e+"&cl=2&lm=-1&ie=utf-8&oe=utf-8&st=-1&ic=0&word="+e+"&face=0&istype=2&nc=1&pn=60&rn=60&gsm=3c&"+n.getTime()+"=&callback=JSON_CALLBACK",r.jsonp(t)).success(function(e){if(e&&e.data)for(var n=0;n<e.data.length;n++)e.data[n].objURL&&i.list.push({title:e.data[n].fromPageTitleEnc,src:e.data[n].middleURL,url:e.data[n].middleURL})}).error(function(){})},i.selectImage=function(e){var n=$("#img-item"+this.$index),t=$("#img-"+this.$index);n.siblings(".selected").removeClass("selected"),n.addClass("selected"),i.data.url=t.attr("src"),i.data.title=t.attr("alt")},i.uploadImage=function(){var e=$("#upload-image");if(e.val())if(/^.*\.(jpg|JPG|jpeg|JPEG|gif|GIF|png|PNG)$/.test(e.val())){var n=e[0].files[0],t=new FileReader;t.onload=function(){i.data.url=this.result,i.$apply()},t.readAsDataURL(n)}else alert("后缀只能是 jpg、gif 及 png")},i.shortCut=function(e){e.stopPropagation(),13==e.keyCode?i.ok():27==e.keyCode&&i.cancel()},i.ok=function(){if(i.data.R_URL.test(i.data.url))n.close({url:i.data.url,title:i.data.title});else{i.urlPassed=!1;var e=$("#image-url");e&&(e.focus(),e[0].setSelectionRange(0,i.data.url.length))}editor.receiver.selectAll()},i.cancel=function(){n.dismiss("cancel"),editor.receiver.selectAll()}}]),angular.module("kityminderEditor").directive("appendNode",["commandBinder",function(n){return{restrict:"E",templateUrl:"ui/directive/appendNode/appendNode.html",scope:{minder:"="},replace:!0,link:function(e){var i=e.minder;n.bind(i,"appendchildnode",e),e.execCommand=function(e){var n,t,r;i.execCommand(e,"分支主题"),n=editor.receiver.element,t=editor.fsm,r=editor.receiver,n.innerText=i.queryCommandValue("text"),t.jump("input","input-request"),r.selectAll()}}}}]),angular.module("kityminderEditor").directive("arrange",["commandBinder",function(e){return{restrict:"E",templateUrl:"ui/directive/arrange/arrange.html",scope:{minder:"="},replace:!0,link:function(e){e.minder}}}]),angular.module("kityminderEditor").directive("colorPanel",function(){return{restrict:"E",templateUrl:"ui/directive/colorPanel/colorPanel.html",scope:{minder:"="},replace:!0,link:function(t){var r=t.minder;r.getThemeItems();t.$on("colorPicked",function(e,n){e.stopPropagation(),t.bgColor=n,r.execCommand("background",n)}),t.setDefaultBg=function(){var e=r.getSelectedNode(),n=r.getNodeStyle(e,"background");return"object"==typeof n?n.toHEX():n},t.bgColor=t.setDefaultBg()||"#fff"}}}),angular.module("kityminderEditor").directive("expandLevel",function(){return{restrict:"E",templateUrl:"ui/directive/expandLevel/expandLevel.html",scope:{minder:"="},replace:!0,link:function(e){e.levels=[1,2,3,4,5,6]}}}),angular.module("kityminderEditor").directive("fontOperator",function(){return{restrict:"E",templateUrl:"ui/directive/fontOperator/fontOperator.html",scope:{minder:"="},replace:!0,link:function(t){var r=t.minder;r.getThemeItems();t.fontSizeList=[10,12,16,18,24,32,48],t.fontFamilyList=[{name:"宋体",val:"宋体,SimSun"},{name:"微软雅黑",val:"微软雅黑,Microsoft YaHei"},{name:"楷体",val:"楷体,楷体_GB2312,SimKai"},{name:"黑体",val:"黑体, SimHei"},{name:"隶书",val:"隶书, SimLi"},{name:"Andale Mono",val:"andale mono"},{name:"Arial",val:"arial,helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"Comic Sans Ms",val:"comic sans ms"},{name:"Impact",val:"impact,chicago"},{name:"Times New Roman",val:"times new roman"},{name:"Sans-Serif",val:"sans-serif"}],t.$on("colorPicked",function(e,n){e.stopPropagation(),t.foreColor=n,r.execCommand("forecolor",n)}),t.setDefaultColor=function(){var e=r.getSelectedNode(),n=r.getNodeStyle(e,"color");return"object"==typeof n?n.toHEX():n},t.foreColor=t.setDefaultColor()||"#000",t.getFontfamilyName=function(r){var i="";return t.fontFamilyList.forEach(function(e,n,t){if(e.val===r)return i=e.name,""}),i}}}}),angular.module("kityminderEditor").directive("hyperLink",["$uibModal",function(t){return{restrict:"E",templateUrl:"ui/directive/hyperLink/hyperLink.html",scope:{minder:"="},replace:!0,link:function(e){var n=e.minder;e.addHyperlink=function(){var e=n.queryCommandValue("HyperLink");t.open({animation:!0,templateUrl:"ui/dialog/hyperlink/hyperlink.tpl.html",controller:"hyperlink.ctrl",size:"md",resolve:{link:function(){return e}}}).result.then(function(e){n.execCommand("HyperLink",e.url,e.title||"")})}}}}]),angular.module("kityminderEditor").directive("imageBtn",["$uibModal",function(t){return{restrict:"E",templateUrl:"ui/directive/imageBtn/imageBtn.html",scope:{minder:"="},replace:!0,link:function(e){var n=e.minder;e.addImage=function(){var e=n.queryCommandValue("image");t.open({animation:!0,templateUrl:"ui/dialog/image/image.tpl.html",controller:"image.ctrl",size:"md",resolve:{image:function(){return e}}}).result.then(function(e){n.execCommand("image",e.url,e.title||"")})}}}}]),angular.module("kityminderEditor").directive("kityminderEditor",["config","minder.service","revokeDialog",function(o,l,e){return{restrict:"EA",templateUrl:"ui/directive/kityminderEditor/kityminderEditor.html",replace:!0,scope:{onInit:"&"},link:function(r,e,n){var i=e.children(".minder-editor")[0];function a(e,n){r.onInit({editor:e,minder:n}),l.executeCallback()}if("undefined"!=typeof seajs)seajs.config({base:"./src"}),define("demo",function(e){var n=e("editor"),t=window.editor=new n(i);window.localStorage.__dev_minder_content&&t.minder.importJson(JSON.parse(window.localStorage.__dev_minder_content)),t.minder.on("contentchange",function(){window.localStorage.__dev_minder_content=JSON.stringify(t.minder.exportJson())}),window.minder=window.km=t.minder,r.editor=t,r.minder=minder,r.config=o.get(),r.$apply(),a(t,minder)}),seajs.use("demo");else if(window.kityminder&&window.kityminder.Editor){var t=new kityminder.Editor(i);window.editor=r.editor=t,window.minder=r.minder=t.minder,r.config=o.get(),a(t,t.minder)}}}}]),angular.module("kityminderEditor").directive("kityminderViewer",["config","minder.service",function(e,l){return{restrict:"EA",templateUrl:"ui/directive/kityminderViewer/kityminderViewer.html",replace:!0,scope:{onInit:"&"},link:function(e,n,t){var r,i,a=n.children(".minder-viewer")[0];if(window.kityminder&&window.kityminder.Editor){var o=new kityminder.Editor(a);window.editor=e.editor=o,window.minder=e.minder=o.minder,i=(r=o).minder,e.onInit({editor:r,minder:i}),l.executeCallback()}}}}]),angular.module("kityminderEditor").directive("layout",function(){return{restrict:"E",templateUrl:"ui/directive/layout/layout.html",scope:{minder:"="},replace:!0,link:function(e){}}}),angular.module("kityminderEditor").directive("navigator",["memory","config",function(g,h){return{restrict:"A",templateUrl:"ui/directive/navigator/navigator.html",scope:{minder:"="},link:function(t){function e(){minder.on("layout layoutallfinish",p),minder.on("viewchange",m)}function n(){minder.off("layout layoutallfinish",p),minder.off("viewchange",m)}minder.setDefaultOptions({zoom:h.get("zoom")}),t.isNavOpen=!g.get("navigator-hidden"),t.getZoomRadio=function(e){var n=minder.getOption("zoom"),t=n[0];return 1-(e-t)/(n[n.length-1]-t)},t.getHeight=function(e){var n=$(".zoom-pan").height();return t.getZoomRadio(e)*n},t.zoom=100,minder.on("zoom",function(e){t.zoom=e.zoom}),t.toggleNavOpen=function(){t.isNavOpen=!t.isNavOpen,g.set("navigator-hidden",!t.isNavOpen),t.isNavOpen?(e(),p(),m()):n()},setTimeout(function(){t.isNavOpen?(e(),p(),m()):n()},0);var r=$(".nav-previewer"),i=new kity.Paper(r[0]),a=i.put(new kity.Path),o=i.put(new kity.Path),l=i.put(new kity.Rect(100,100).stroke("red","1%")),s=new kity.Box,c=new kity.Box,d=u(minder.getTheme());function u(e){switch(e){case"tianpan":case"tianpan-compact":return function(e,n,t,r,i){var a=r>>1;e.push("M",n,t+a,"a",a,a,0,1,1,0,.01,"z")};default:return function(e,n,t,r,i){e.push("M",n,t,"h",r,"v",i,"h",-r,"z")}}}function p(){var e=minder.getRenderContainer().getBoundaryBox();s=e;i.setViewBox(e.x-30-.5,e.y-30-.5,e.width+60+1,e.height+60+1);var t=[],r=[];minder.getRoot().traverse(function(e){var n=e.getLayoutBox();d(t,n.x,n.y,n.width,n.height),e.getConnection()&&e.parent&&e.parent.isExpanded()&&r.push(e.getConnection().getPathData())}),i.setStyle("background",minder.getStyle("background")),t.length?a.fill(minder.getStyle("root-background")).setPathData(t):a.setPathData(null),r.length?o.stroke(minder.getStyle("connect-color"),"0.5%").setPathData(r):o.setPathData(null),m()}function m(){c=minder.getViewDragger().getView(),l.setBox(c.intersect(s))}minder.on("themechange",function(e){d=u(e.theme)}),function(){function n(e,n){var t=c;e.x=-e.x,e.y=-e.y;var r=minder.getPaper().getViewPortMatrix();t=r.transformBox(t);var i=e.offset(t.width/2,t.height/2);minder.getViewDragger().moveTo(i,n)}var t=!1;i.on("mousedown",function(e){t=!0,n(e.getPosition("top"),200),r.addClass("grab")}),i.on("mousemove",function(e){t&&n(e.getPosition("top"))}),$(window).on("mouseup",function(){t=!1,r.removeClass("grab")})}()}}}]),angular.module("kityminderEditor").directive("noteBtn",["valueTransfer",function(n){return{restrict:"E",templateUrl:"ui/directive/noteBtn/noteBtn.html",scope:{minder:"="},replace:!0,link:function(e){e.minder;e.addNote=function(){n.noteEditorOpen=!0}}}}]),angular.module("kityminderEditor").directive("noteEditor",["valueTransfer",function(o){return{restrict:"A",templateUrl:"ui/directive/noteEditor/noteEditor.html",scope:{minder:"="},replace:!0,controller:["$scope",function(t){var r,i=t.minder,a=!1;t.codemirrorLoaded=function(e){r=t.cmEditor=e,e.setSize("100%","100%")},t.$watch("noteContent",function(e){var n=-1!=i.queryCommandState("note");e&&n&&!a&&i.execCommand("note",e),setTimeout(function(){r.refresh()})});t.$watch(function(){return o.noteEditorOpen},function(e,n){e&&setTimeout(function(){r.refresh(),r.focus()}),t.noteEditorOpen=o.noteEditorOpen},!0),t.closeNoteEditor=function(){o.noteEditorOpen=!1,editor.receiver.selectAll()},i.on("interactchange",function(){var e=t.noteEnabled=-1!=i.queryCommandState("note"),n=i.queryCommandValue("note")||"";e&&(t.noteContent=n),a=!0,t.$apply(),a=!1})}]}}]),angular.module("kityminderEditor").directive("notePreviewer",["$sce","valueTransfer",function(f,e){return{restrict:"A",templateUrl:"ui/directive/notePreviewer/notePreviewer.html",link:function(p,e){var n,t=p.minder,m=e.parent(),g=e.children();p.showNotePreviewer=!1,marked.setOptions({gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1}),t.on("shownoterequest",function(e){n=setTimeout(function(){!function(e,n){var t=e.getRenderer("NoteIconRenderer").getRenderShape().getRenderBox("screen"),r=e.getData("note");g[0].scrollTop=0;var i=marked(r);n&&(i=i.replace(new RegExp("("+n+")","ig"),'<span class="highlight">$1</span>'));p.noteContent=f.trustAsHtml(i),p.$apply();var a=$(m[0]).width(),o=$(m[0]).height(),l=$(g).outerWidth(),s=$(g).outerHeight(),c=t.cx-l/2-m[0].offsetLeft,d=t.bottom+10-m[0].offsetTop;c<0&&(c=10);a<c+l&&(c=t.left-l-10-m[0].offsetLeft);o<d+s&&(d=t.top-s-10-m[0].offsetTop);p.previewerStyle={left:Math.round(c)+"px",top:Math.round(d)+"px"},p.showNotePreviewer=!0;var u=g[0].querySelector(".highlight");u&&u.scrollIntoView();h=!0,p.$apply()}(e.node,e.keyword)},300)}),t.on("hidenoterequest",function(){clearTimeout(n),p.showNotePreviewer=!1});var h=!1;$(document).on("mousedown mousewheel DOMMouseScroll",function(){h&&(p.showNotePreviewer=!1,p.$apply())}),e.on("mousedown mousewheel DOMMouseScroll",function(e){e.stopPropagation()})}}}]),angular.module("kityminderEditor").directive("operation",function(){return{restrict:"E",templateUrl:"ui/directive/operation/operation.html",scope:{minder:"="},replace:!0,link:function(e){e.editNode=function(){var e=editor.receiver.element,n=editor.fsm,t=editor.receiver;e.innerText=minder.queryCommandValue("text"),n.jump("input","input-request"),t.selectAll()}}}}),angular.module("kityminderEditor").directive("priorityEditor",["commandBinder",function(i){return{restrict:"E",templateUrl:"ui/directive/priorityEditor/priorityEditor.html",scope:{minder:"="},replace:!0,link:function(e){for(var n=e.minder,t=[],r=0;r<10;r++)t.push(r);i.bind(n,"priority",e),e.priorities=t,e.getPriorityTitle=function(e){switch(e){case 0:return"移除优先级";default:return"优先级"+e}}}}}]),angular.module("kityminderEditor").directive("progressEditor",["commandBinder",function(i){return{restrict:"E",templateUrl:"ui/directive/progressEditor/progressEditor.html",scope:{minder:"="},replace:!0,link:function(e){for(var n=e.minder,t=[],r=0;r<10;r++)t.push(r);i.bind(n,"progress",e),e.progresses=t,e.getProgressTitle=function(e){switch(e){case 0:return"移除进度";case 1:return"未开始";case 9:return"全部完成";default:return"完成"+(e-1)+"/8"}}}}}]),angular.module("kityminderEditor").directive("resourceEditor",function(){return{restrict:"E",templateUrl:"ui/directive/resourceEditor/resourceEditor.html",scope:{minder:"="},replace:!0,controller:["$scope",function(t){var r=t.minder,i=!1;r.on("interactchange",function(){var n=(t.enabled=-1!=r.queryCommandState("resource"))?r.queryCommandValue("resource"):[],e=r.getUsedResource().map(function(e){return{name:e,selected:-1<n.indexOf(e)}});t.used=e,i=!0,t.$apply(),i=!1}),t.$watch("used",function(e){if(-1!=r.queryCommandState("resource")&&e){var n=e.filter(function(e){return e.selected}).map(function(e){return e.name});if(i)return;r.execCommand("resource",n)}},!0),t.resourceColor=function(e){return r.getResourceColor(e).toHEX()},t.addResource=function(e){var n=r.queryCommandValue("resource");e&&/\S/.test(e)&&(-1==n.indexOf(e)&&t.used.push({name:e,selected:!0}),t.newResourceName=null)}}]}}).directive("clickAnywhereButHere",["$document",function(a){return{link:function(r,e,i){var t=function(e){var n=0<$("#resource-dropdown").has(e.target).length,t=$("#resource-dropdown")==e.target;n||t||r.$apply(i.clickAnywhereButHere)};r.$watch(i.isActive,function(e,n){e!==n&&1==e?a.bind("click",t):e!==n&&0==e&&a.unbind("click",t)})}}}]),angular.module("kityminderEditor").directive("searchBox",function(){return{restrict:"A",templateUrl:"ui/directive/searchBox/searchBox.html",scope:{minder:"="},replace:!0,controller:["$scope",function(o){var l=o.minder,e=window.editor;function t(){$("#search-input").blur(),o.showSearch=!1,l.fire("hidenoterequest"),e.receiver.selectAll()}function n(){o.showSearch=!0,setTimeout(function(){$("#search-input").focus()},10),o.keyword&&$("#search-input")[0].setSelectionRange(0,o.keyword.length)}o.handleKeyDown=function(e){if(13==e.keyCode){var n=e.shiftKey?"prev":"next";d(o.keyword,n)}27==e.keyCode&&t()},o.doSearch=d,o.exitSearch=t,o.showTip=!1,o.showSearch=!1,$("body").on("keydown",function(e){70!=e.keyCode||!e.ctrlKey&&!e.metaKey||e.shiftKey||(n(),o.$apply(),e.preventDefault())}),l.on("searchNode",function(){n()});var s=[],c=[];function r(){s=[],l.getRoot().traverse(function(e){s.push(e)})}function d(e,n){if(o.showTip=!1,l.fire("hidenoterequest"),e&&/\S/.exec(e)){o.showTip=!0,o.curIndex=0,o.resultNum=0,e=e.toLowerCase();var t,r,i=d.lastKeyword!=e;if(d.lastKeyword=e,i&&function(e){c=[];for(var n=0;n<s.length;n++){var t=s[n];-1!=t.getText().toLowerCase().indexOf(e)&&c.push({node:t});var r=t.getData("note");r&&-1!=r.toLowerCase().indexOf(e)&&c.push({node:t,keyword:e})}}(e),o.resultNum=c.length,c.length){var a=i?0:("next"===n?d.lastIndex+1:d.lastIndex-1)||0;a=(c.length+a)%c.length,t=c[a].node,r=c[a].keyword,l.execCommand("camera",t,50),setTimeout(function(){l.select(t,!0),t.isExpanded()||l.execCommand("expand",!0),r&&l.fire("shownoterequest",{node:t,keyword:r})},60),d.lastIndex=a,o.curIndex=a+1}}else $("#search-input").focus()}l.on("contentchange",r),r()}]}}),angular.module("kityminderEditor").directive("searchBtn",function(){return{restrict:"E",templateUrl:"ui/directive/searchBtn/searchBtn.html",scope:{minder:"="},replace:!0,link:function(e){e.enterSearch=function(){minder.fire("searchNode")}}}}),angular.module("kityminderEditor").directive("selectAll",function(){return{restrict:"E",templateUrl:"ui/directive/selectAll/selectAll.html",scope:{minder:"="},replace:!0,link:function(e){var r=e.minder;e.items=["revert","siblings","level","path","tree"],e.select={all:function(){var n=[];r.getRoot().traverse(function(e){n.push(e)}),r.select(n,!0),r.fire("receiverfocus")},revert:function(){var n=r.getSelectedNodes(),t=[];r.getRoot().traverse(function(e){-1==n.indexOf(e)&&t.push(e)}),r.select(t,!0),r.fire("receiverfocus")},siblings:function(){var e=r.getSelectedNodes(),n=[];e.forEach(function(e){e.parent&&e.parent.children.forEach(function(e){-1==n.indexOf(e)&&n.push(e)})}),r.select(n,!0),r.fire("receiverfocus")},level:function(){var n=r.getSelectedNodes().map(function(e){return e.getLevel()}),t=[];r.getRoot().traverse(function(e){-1!=n.indexOf(e.getLevel())&&t.push(e)}),r.select(t,!0),r.fire("receiverfocus")},path:function(){var e=r.getSelectedNodes(),n=[];e.forEach(function(e){for(;e&&-1==n.indexOf(e);)n.push(e),e=e.parent}),r.select(n,!0),r.fire("receiverfocus")},tree:function(){var e=r.getSelectedNodes(),n=[];e.forEach(function(e){e.traverse(function(e){-1==n.indexOf(e)&&n.push(e)})}),r.select(n,!0),r.fire("receiverfocus")}}}}}),angular.module("kityminderEditor").directive("styleOperator",function(){return{restrict:"E",templateUrl:"ui/directive/styleOperator/styleOperator.html",scope:{minder:"="},replace:!0}}),angular.module("kityminderEditor").directive("templateList",function(){return{restrict:"E",templateUrl:"ui/directive/templateList/templateList.html",scope:{minder:"="},replace:!0,link:function(e){e.templateList=kityminder.Minder.getTemplateList()}}}),angular.module("kityminderEditor").directive("themeList",function(){return{restrict:"E",templateUrl:"ui/directive/themeList/themeList.html",replace:!0,link:function(e){var r=kityminder.Minder.getThemeList();e.getThemeThumbStyle=function(e){var n=r[e];if(n){var t={color:n["root-color"],"border-radius":n["root-radius"]/2};return n["root-background"]&&(t.background=n["root-background"].toString()),t}},e.themeKeyList=["classic","classic-compact","fresh-blue","fresh-blue-compat","fresh-green","fresh-green-compat","fresh-pink","fresh-pink-compat","fresh-purple","fresh-purple-compat","fresh-red","fresh-red-compat","fresh-soil","fresh-soil-compat","snow","snow-compact","tianpan","tianpan-compact","fish","wire"]}}}),angular.module("kityminderEditor").directive("topTab",function(){return{restrict:"A",templateUrl:"ui/directive/topTab/topTab.html",scope:{minder:"=topTab",editor:"="},link:function(e){var i=!1,a=!0,o=!0;e.setCurTab=function(e){setTimeout(function(){i=!0,"idea"!=e&&(a=!1)})},e.toggleTopTab=function(){setTimeout(function(){var e,n,t,r;i&&!a||(a=!1,o?(t=$(".tab-content"),r=$(".minder-editor"),t.animate({height:0,display:"none"}),r.animate({top:"32px"})):(e=$(".tab-content"),n=$(".minder-editor"),e.animate({height:"60px",display:"block"}),n.animate({top:"92px"})),o=!o),i=!1})}}}}),angular.module("kityminderEditor").directive("undoRedo",function(){return{restrict:"E",templateUrl:"ui/directive/undoRedo/undoRedo.html",scope:{editor:"="},replace:!0,link:function(e){}}}),e="expose-editor",d.r([n[e]])}();